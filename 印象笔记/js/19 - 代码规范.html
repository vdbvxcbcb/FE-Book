<html>
<head>
  <title>19 - 代码规范</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/606060 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="556"/>
<h1>19 - 代码规范</h1>

<div>
<span><div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">规范 建议遵守但不遵守不会报错</span></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">2.2.1 缩进</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">使用 4 个空格做为一个缩进层级。</span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">2.2.2 空格</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><b>[强制] 用作代码块起始的左花括号 { 前必须有一个空格。</b></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">if (condition) {}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">while (condition) {}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">function funcName() {}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">[强制] </span><span style="font-size: 12pt; font-weight: bold;">if / else / for / while / function / switch / do / try / catch / finally 关键字后，必须有一个空格。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt;">// good</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">if (condition) {</span></div><div><span style="font-size: 12pt;">}</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">while (condition) {</span></div><div><span style="font-size: 12pt;">}</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">(function () {</span></div><div><span style="font-size: 12pt;">})();</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">// bad</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">if(condition) {</span></div><div><span style="font-size: 12pt;">}</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">while(condition) {</span></div><div><span style="font-size: 12pt;">}</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">(function() {</span></div><div><span style="font-size: 12pt;">})();</span></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">[强制] </span><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">在对象创建时，属性中的 : 之后必须有空格，: 之前不允许有空格。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">, 和 ; 前不允许有空格。如果不位于行尾，, 和 ; 后必须跟一个空格。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">[强制] </span><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">在函数调用、函数声明、括号表达式、属性访问、if / for / while / switch / catch 等语句中，() 和 [] 内紧贴括号部分不允许有空格。</span></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">示例：</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">callFunc(param1, param2, param3);</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">save(this.list[this.indexes[i]]);</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">needIncream &amp;&amp; (variable += increament);</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">if (num &gt; list.length) {}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">while (len--) {}</font></div></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 函数声明、具名函数表达式、函数调用中，函数名和 ( 之间不允许有空格。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">示例：</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">function funcName() {}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">var funcName = function funcName() {};</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">funcName();</font></div></div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">[强制] </span><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">单行声明的数组与对象，如果包含元素，{} 和 [] 内紧贴括号部分不允许包含空格。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">示例：</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">var arr1 = [];</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">var arr2 = [1, 2, 3];</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">var obj1 = {};</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">var obj2 = {name: 'obj'};</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">var obj3 = {</font></div><div><font style="font-size: 12pt;">    name: 'obj',</font></div><div><font style="font-size: 12pt;">    age: 20,</font></div><div><font style="font-size: 12pt;">    sex: 1</font></div><div><font style="font-size: 12pt;">};</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">2.2.3 换行</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 函数定义结束不允许添加分号。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;">示例：</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// goodfunction</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">funcName() {</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">function funcName() {</font></div><div><font style="font-size: 12pt;">};</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// 如果是函数表达式，分号是不允许省略的。</font></div><div><font style="font-size: 12pt;">var funcName = function () {</font></div><div><font style="font-size: 12pt;">};</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 每个独立语句结束后必须换行。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 不同行为或逻辑的语句集，使用空行隔开，更易阅读。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// 仅为按逻辑换行的示例，不代表setStyle的最优实现</font></div><div><font style="font-size: 12pt;">function setStyle(element, property, value) {</font></div><div><font style="font-size: 12pt;">    if (element == null) {</font></div><div><font style="font-size: 12pt;">        return;</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">    element.style[property] = value;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">[建议] </span><span style="font-size: 12pt; font-weight: bold;">对于 if...else...、try...catch...finally 等语句，推荐使用在 } 号后添加一个换行 的风格，使代码层次结构更清晰，阅读性更好。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">if (condition) {</font></div><div><font style="font-size: 12pt;">    // some statements;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">else {</font></div><div><font style="font-size: 12pt;">    // some statements;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">try {</font></div><div><font style="font-size: 12pt;">    // some statements;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">catch (ex) {</font></div><div><font style="font-size: 12pt;">    // some statements;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">[强制] IIFE 必须在函数表达式外添加 (，非 IIFE 不得在函数表达式外添加 (。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">解释：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">IIFE = Immediately-Invoked Function Expression.</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">额外的 ( 能够让代码在阅读的一开始就能判断函数是否立即被调用，进而明白接下来代码的用途。而不是一直拖到底部才恍然大悟。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">var task = (function () {</font></div><div><font style="font-size: 12pt;">   // Code</font></div><div><font style="font-size: 12pt;">   return result;</font></div><div><font style="font-size: 12pt;">})();</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">var func = function () {</font></div><div><font style="font-size: 12pt;">};</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">var task = function () {</font></div><div><font style="font-size: 12pt;">    // Code</font></div><div><font style="font-size: 12pt;">    return result;</font></div><div><font style="font-size: 12pt;">}();</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">var func = (function () {</font></div><div><font style="font-size: 12pt;">});</font></div></div><div><br/></div><div><span style="font-size: 12pt;">2.4.1 单行注释</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 必须独占一行。// 后跟一个空格，缩进与下一行被注释说明的代码一致。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">function foo(p1, p2, opt_p3) {</font></div><div><font style="font-size: 12pt;">    // 这里对具体内部逻辑进行说明</font></div><div><font style="font-size: 12pt;">    // 说明太长需要换行</font></div><div><font style="font-size: 12pt;">    for (...) {</font></div><div><font style="font-size: 12pt;">        ....</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">2.4.2 多行注释</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 避免使用 /*...*/ 这样的多行注释。有多行注释内容时，使用多个单行注释。</span></span></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">2.3 命名</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 变量 使用 Camel命名法。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var loadingModules = {};</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 常量 使用 全部字母大写，单词间下划线分隔 的命名方式。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var HTML_ENTITY = {};</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 函数 使用 Camel命名法。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">function stringFormat(source) {</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 函数的 参数 使用 Camel命名法。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">function hear(theBells) {</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 类 使用 Pascal命名法。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">function TextNode(options) {</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 类的 方法 / 属性 使用 Camel命名法。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">function TextNode(value, engine) {</font></div><div><font style="font-size: 12pt;">    this.value = value;</font></div><div><font style="font-size: 12pt;">    this.engine = engine;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">TextNode.prototype.clone = function () {</font></div><div><font style="font-size: 12pt;">    return this;</font></div><div><font style="font-size: 12pt;">};</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 枚举变量 使用 Pascal命名法，枚举的属性 使用 全部字母大写，单词间下划线分隔 的命名方式。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var TargetState = {</font></div><div><font style="font-size: 12pt;">    READING: 1,</font></div><div><font style="font-size: 12pt;">    READED: 2,</font></div><div><font style="font-size: 12pt;">    APPLIED: 3,</font></div><div><font style="font-size: 12pt;">    READY: 4</font></div><div><font style="font-size: 12pt;">};</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 类名 使用 名词。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">function Engine(options) {</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 函数名 使用 动宾短语。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">function getStyle(element) {</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] boolean 类型的变量使用 is 或 has 开头。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var isReady = false;</font></div><div><font style="font-size: 12pt;">var hasMoreCommands = false;</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] Promise对象 用 动宾短语的进行时 表达。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var loadingData = ajax.get('url');</font></div><div><font style="font-size: 12pt;">loadingData.then(callback);</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">3.1 变量</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 每个 var 只能声明一个变量。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">解释：</span></div><div><span style="font-size: 12pt;">一个 var 声明多个变量，容易导致较长的行长度，并且在修改时容易造成逗号和分号的混淆。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">var hangModules = [];</font></div><div><font style="font-size: 12pt;">var missModules = [];</font></div><div><font style="font-size: 12pt;">var visited = {};</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">var hangModules = [],</font></div><div><font style="font-size: 12pt;">    missModules = [],</font></div><div><font style="font-size: 12pt;">    visited = {};</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">3.2 条件</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 在 Equality Expression 中使用类型严格的 ===。仅当判断 null 或 undefined 时，允许使用 == null。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">解释：</span></div><div><span style="font-size: 12pt;">使用 === 可以避免等于判断中隐式的类型转换。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">if (age === 30) {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">if (age == 30) {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 尽可能使用简洁的表达式。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// 字符串为空</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">if (!name) {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">if (name === '') {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// 字符串非空</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">if (name) {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">if (name !== '') {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// 数组非空</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">if (collection.length) {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">if (collection.length &gt; 0) {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// 布尔不成立</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">if (!notTrue) {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">if (notTrue === false) {</font></div><div><font style="font-size: 12pt;">    // ......</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// null 或 undefined</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">if (noValue == null) {</font></div><div><font style="font-size: 12pt;">  // ......</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">if (noValue === null || typeof noValue === 'undefined') {</font></div><div><font style="font-size: 12pt;">  // ......</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 如果函数或全局中的 else 块后没有任何语句，可以删除 else。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">function getName() {</font></div><div><font style="font-size: 12pt;">    if (name) {</font></div><div><font style="font-size: 12pt;">        return name;</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    return 'unnamed';</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">function getName() {</font></div><div><font style="font-size: 12pt;">    if (name) {</font></div><div><font style="font-size: 12pt;">        return name;</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">    else {</font></div><div><font style="font-size: 12pt;">        return 'unnamed';</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">3.5 字符串</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 字符串开头和结束使用单引号 '。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">解释：</span></div><div><span style="font-size: 12pt;">1. 输入单引号不需要按住 shift，方便输入。</span></div><div><span style="font-size: 12pt;">2. 实际使用中，字符串经常用来拼接 HTML。为方便 HTML 中包含双引号而不需要转义写法。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var str = '我是一个字符串';</font></div><div><font style="font-size: 12pt;">var html = '&lt;div class=&quot;cls&quot;&gt;拼接HTML可以省去双引号转义&lt;/div&gt;';</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">3.7 数组</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 遍历数组不使用 for in。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">解释：</span></div><div><span style="font-size: 12pt;">数组对象可能存在数字以外的属性, 这种情况下 for in 不会得到正确结果。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var arr = ['a', 'b', 'c'];</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// 这里仅作演示, 实际中应使用 Object 类型</font></div><div><font style="font-size: 12pt;">arr.other = 'other things';</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// 正确的遍历方式</font></div><div><font style="font-size: 12pt;">for (var i = 0, len = arr.length; i &lt; len; i++) {</font></div><div><font style="font-size: 12pt;">    </font><font style="font-size: 12pt;">console.log(i);            // 打印 0 1 2 undefined</font></div><div><font style="font-size: 12pt;">    // console.log(arr[i]);    //</font> <font style="font-size: 12pt;">打印 <font>a b c</font></font></div><div>   <font style="font-size: 12pt;">  // console.log(arr.other); //</font> <font style="font-size: 12pt;"><font>打印 </font>other things 3次</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// 错误的遍历方式</font></div><div><font style="font-size: 12pt;">for (var i in arr) {</font></div><div><font style="font-size: 12pt;">    console.log(i);            // 打印 0 1 2 other</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 清空数组使用 .length = 0。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">[建议] for in 遍历对象时, 使用 hasOwnProperty 过滤掉原型中的属性。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var newInfo = {};</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">for (var key in info) {</font></div><div><font style="font-size: 12pt;">    if (info.hasOwnProperty(key)) {</font></div><div><font style="font-size: 12pt;">        newInfo[key] = info[key];</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">3.4.2 类型转换</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 转换成 string 时，使用 + ''。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">num + '';</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">new String(num);</font></div><div><font style="font-size: 12pt;">num.toString();</font></div><div><font style="font-size: 12pt;">String(num);</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 转换成 number 时，通常使用 +。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">+str;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">Number(str);</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] string 转换成 number，要转换的字符串结尾包含非数字并期望忽略时，使用 parseInt。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var width = '200px';</font></div><div><font style="font-size: 12pt;">parseInt(width, 10);</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[强制] 使用 parseInt 时，必须指定进制。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">parseInt(str, 10);</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">parseInt(str);</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] 转换成 boolean 时，使用 !!。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">var num = 3.14;</font></div><div><font style="font-size: 12pt;">!!num;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">[建议] number 去除小数点，使用 Math.floor / Math.round / Math.ceil，不使用 parseInt。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">示例：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">// good</font></div><div><font style="font-size: 12pt;">var num = 3.14;</font></div><div><font style="font-size: 12pt;">Math.ceil(num);</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">// bad</font></div><div><font style="font-size: 12pt;">var num = 3.14;</font></div><div><font style="font-size: 12pt;">parseInt(num, 10);</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 