<html>
<head>
  <title>面试官：如果要做优化，CSS提高性能的方法有哪些？ | web前端面试 - 面试官系列</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/606060 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="6032"/>
<h1>面试官：如果要做优化，CSS提高性能的方法有哪些？ | web前端面试 - 面试官系列</h1>

<div><span>
  <div style="--en-clipped-content:article; --en-clipped-source-url:https://vue3js.cn/interview/css/css_performance.html#%25E4%25B8%2580%25E3%2580%2581%25E5%2589%258D%25E8%25A8%2580; --en-clipped-source-title:面试官：如果要做优化，CSS提高性能的方法有哪些？ | web前端面试 - 面试官系列;">
<div><br/></div><div style="min-height: 3704px; font-size: 16px; display: block; min-width: 100%; position: relative;"> <div style="background-color:rgb(255, 255, 255);"><div style="background-color:rgb(255, 255, 255);font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Fira Sans&quot;, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;-webkit-font-smoothing:antialiased;font-size:16px;color:rgb(44, 62, 80);"><div><div><span><div><h1 style="font-weight:600;line-height:1.25;font-size:35.2px;padding-top:73.6px;margin-top:-1.5rem;margin-bottom:16px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E9%9D%A2%E8%AF%95%E5%AE%98-%E5%A6%82%E6%9E%9C%E8%A6%81%E5%81%9A%E4%BC%98%E5%8C%96-css%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E6%96%B9%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 面试官：如果要做优化，CSS提高性能的方法有哪些？</h1> <p style="line-height:1.7;margin-top:32px;"><img src="面试官：如果要做优化，CSS提高性能的方法有哪些？  web前端面试 - 面试官系列_files/c071c820-9fa3-11eb-ab90-d9ae814b240d.png" type="image/png" data-filename="c071c820-9fa3-11eb-ab90-d9ae814b240d.png" height="341" style="max-width:100%;" width="668"/></p> <h2 style="font-weight:600;line-height:1.25;font-size:26.4px;padding-bottom:4.8px;border-bottom:1px solid rgb(234, 236, 239);margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E4%B8%80%E3%80%81%E5%89%8D%E8%A8%80" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 一、前言</h2> <p style="line-height:1.7;">每一个网页都离不开<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>，但是很多人又认为，<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>主要是用来完成页面布局的，像一些细节或者优化，就不需要怎么考虑，实际上这种想法是不正确的</p> <p style="line-height:1.7;">作为页面渲染和内容展现的重要环节，<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>影响着用户对整个网站的第一体验</p> <p style="line-height:1.7;">因此，在整个产品研发过程中，<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>性能优化同样需要贯穿全程</p> <h2 style="font-weight:600;line-height:1.25;font-size:26.4px;padding-bottom:4.8px;border-bottom:1px solid rgb(234, 236, 239);margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 二、实现方式</h2> <p style="line-height:1.7;">实现方式有很多种，主要有如下：</p> <ul style="padding-left:1.2em;line-height:1.7;"><li>内联首屏关键CSS</li> <li>异步加载CSS</li> <li>资源压缩</li> <li>合理使用选择器</li> <li>减少使用昂贵的属性</li> <li>不要使用@import</li></ul> <h3 style="font-weight:600;line-height:1.25;font-size:21.6px;margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E5%86%85%E8%81%94%E9%A6%96%E5%B1%8F%E5%85%B3%E9%94%AEcss" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 内联首屏关键CSS</h3> <p style="line-height:1.7;">在打开一个页面，页面首要内容出现在屏幕的时间影响着用户的体验，而通过内联<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>关键代码能够使浏览器在下载完<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">html</code>后就能立刻渲染</p> <p style="line-height:1.7;">而如果外部引用<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>代码，在解析<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">html</code>结构过程中遇到外部<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>文件，才会开始下载<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>代码，再渲染</p> <p style="line-height:1.7;">所以，<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">CSS</code>内联使用使渲染时间提前</p> <p style="line-height:1.7;">注意：但是较大的<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>代码并不合适内联（初始拥塞窗口、没有缓存），而其余代码则采取外部引用方式</p> <h3 style="font-weight:600;line-height:1.25;font-size:21.6px;margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BDcss" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 异步加载CSS</h3> <p style="line-height:1.7;">在<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">CSS</code>文件请求、下载、解析完成之前，<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">CSS</code>会阻塞渲染，浏览器将不会渲染任何已处理的内容</p> <p style="line-height:1.7;">前面加载内联代码后，后面的外部引用<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>则没必要阻塞浏览器渲染。这时候就可以采取异步加载的方案，主要有如下：</p> <ul style="padding-left:1.2em;line-height:1.7;"><li>使用javascript将link标签插到head标签最后</li></ul> <div style="position:relative;background-color:rgb(40, 44, 52);border-radius:6px;"><span style="position:absolute;z-index:3;top:0.8em;right:1em;font-size:0.75rem;color:rgba(255, 255, 255, 0.4);">js</span><pre style="color:rgb(204, 204, 204);font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;overflow-wrap:normal;tab-size:4;hyphens:none;border-radius:6px;line-height:1.4;padding:1.25rem 1.5rem;margin:0.85rem 0px;overflow:auto;position:relative;z-index:1;background:transparent;padding-left:72px;vertical-align:middle;"><code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;margin:0px;font-size:0.85em;color:rgb(255, 255, 255);padding:0px;background-color:transparent;border-radius:0px;"><span style="color:rgb(153, 153, 153);">// 创建link标签</span>
<span style="color:rgb(204, 153, 205);">const</span> myCSS <span style="color:rgb(103, 205, 204);">=</span> document<span style="color:rgb(204, 204, 204);">.</span><span style="color:rgb(240, 141, 73);">createElement</span><span style="color:rgb(204, 204, 204);">(</span> <span style="color:rgb(126, 198, 153);">&quot;link&quot;</span> <span style="color:rgb(204, 204, 204);">)</span><span style="color:rgb(204, 204, 204);">;</span>
myCSS<span style="color:rgb(204, 204, 204);">.</span>rel <span style="color:rgb(103, 205, 204);">=</span> <span style="color:rgb(126, 198, 153);">&quot;stylesheet&quot;</span><span style="color:rgb(204, 204, 204);">;</span>
myCSS<span style="color:rgb(204, 204, 204);">.</span>href <span style="color:rgb(103, 205, 204);">=</span> <span style="color:rgb(126, 198, 153);">&quot;mystyles.css&quot;</span><span style="color:rgb(204, 204, 204);">;</span>
<span style="color:rgb(153, 153, 153);">// 插入到header的最后位置</span>
document<span style="color:rgb(204, 204, 204);">.</span>head<span style="color:rgb(204, 204, 204);">.</span><span style="color:rgb(240, 141, 73);">insertBefore</span><span style="color:rgb(204, 204, 204);">(</span> myCSS<span style="color:rgb(204, 204, 204);">,</span> document<span style="color:rgb(204, 204, 204);">.</span>head<span style="color:rgb(204, 204, 204);">.</span>childNodes<span style="color:rgb(204, 204, 204);">[</span> document<span style="color:rgb(204, 204, 204);">.</span>head<span style="color:rgb(204, 204, 204);">.</span>childNodes<span style="color:rgb(204, 204, 204);">.</span>length <span style="color:rgb(103, 205, 204);">-</span> <span style="color:rgb(240, 141, 73);">1</span> <span style="color:rgb(204, 204, 204);">]</span><span style="color:rgb(204, 204, 204);">.</span>nextSibling <span style="color:rgb(204, 204, 204);">)</span><span style="color:rgb(204, 204, 204);">;</span>
</code></pre> <div style="position:absolute;top:0px;width:55.9916px;text-align:center;color:rgba(255, 255, 255, 0.3);padding:1.25rem 0px;line-height:1.4;"><span style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;z-index:4;user-select:none;font-size:0.85em;">1</span><br style="user-select:none;"/><span style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;z-index:4;user-select:none;font-size:0.85em;">2</span><br style="user-select:none;"/><span style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;z-index:4;user-select:none;font-size:0.85em;">3</span><br style="user-select:none;"/><span style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;z-index:4;user-select:none;font-size:0.85em;">4</span><br style="user-select:none;"/><span style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;z-index:4;user-select:none;font-size:0.85em;">5</span><br style="user-select:none;"/><span style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;z-index:4;user-select:none;font-size:0.85em;">6</span><br style="user-select:none;"/></div><span style="position:absolute;z-index:2;top:0px;left:0px;width:3.5rem;height:100%;border-radius:6px 0px 0px 6px;border-right:1px solid rgba(0, 0, 0, 0.66);background-color:rgb(40, 44, 52);"></span></div><ul style="padding-left:1.2em;line-height:1.7;"><li>设置link标签media属性为noexis，浏览器会认为当前样式表不适用当前类型，会在不阻塞页面渲染的情况下再进行下载。加载完成后，将<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">media</code>的值设为<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">screen</code>或<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">all</code>，从而让浏览器开始解析CSS</li></ul> <div style="position:relative;background-color:rgb(40, 44, 52);border-radius:6px;"><span style="position:absolute;z-index:3;top:0.8em;right:1em;font-size:0.75rem;color:rgba(255, 255, 255, 0.4);">html</span><pre style="color:rgb(204, 204, 204);font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;overflow-wrap:normal;tab-size:4;hyphens:none;border-radius:6px;line-height:1.4;padding:1.25rem 1.5rem;margin:0.85rem 0px;overflow:auto;position:relative;z-index:1;background:transparent;padding-left:72px;vertical-align:middle;"><code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;margin:0px;font-size:0.85em;color:rgb(255, 255, 255);padding:0px;background-color:transparent;border-radius:0px;"><span style="color:rgb(226, 119, 122);"><span style="color:rgb(226, 119, 122);"><span style="color:rgb(204, 204, 204);">&lt;</span>link</span> <span style="color:rgb(226, 119, 122);">rel</span><span style="color:rgb(126, 198, 153);"><span style="color:rgb(204, 204, 204);">=</span><span style="color:rgb(204, 204, 204);">&quot;</span>stylesheet<span style="color:rgb(204, 204, 204);">&quot;</span></span> <span style="color:rgb(226, 119, 122);">href</span><span style="color:rgb(126, 198, 153);"><span style="color:rgb(204, 204, 204);">=</span><span style="color:rgb(204, 204, 204);">&quot;</span>mystyles.css<span style="color:rgb(204, 204, 204);">&quot;</span></span> <span style="color:rgb(226, 119, 122);">media</span><span style="color:rgb(126, 198, 153);"><span style="color:rgb(204, 204, 204);">=</span><span style="color:rgb(204, 204, 204);">&quot;</span>noexist<span style="color:rgb(204, 204, 204);">&quot;</span></span> <span style="color:rgb(226, 119, 122);">onload</span><span style="color:rgb(126, 198, 153);"><span style="color:rgb(204, 204, 204);">=</span><span style="color:rgb(204, 204, 204);">&quot;</span>this.media=<span style="color:rgb(204, 204, 204);">'</span>all<span style="color:rgb(204, 204, 204);">'</span><span style="color:rgb(204, 204, 204);">&quot;</span></span><span style="color:rgb(204, 204, 204);">&gt;</span></span>
</code></pre> <div style="position:absolute;top:0px;width:55.9916px;text-align:center;color:rgba(255, 255, 255, 0.3);padding:1.25rem 0px;line-height:1.4;"><span style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;z-index:4;user-select:none;font-size:0.85em;">1</span><br style="user-select:none;"/></div><span style="position:absolute;z-index:2;top:0px;left:0px;width:3.5rem;height:100%;border-radius:6px 0px 0px 6px;border-right:1px solid rgba(0, 0, 0, 0.66);background-color:rgb(40, 44, 52);"></span></div><ul style="padding-left:1.2em;line-height:1.7;"><li>通过rel属性将link元素标记为alternate可选样式表，也能实现浏览器异步加载。同样别忘了加载完成之后，将rel设回stylesheet</li></ul> <div style="position:relative;background-color:rgb(40, 44, 52);border-radius:6px;"><span style="position:absolute;z-index:3;top:0.8em;right:1em;font-size:0.75rem;color:rgba(255, 255, 255, 0.4);">html</span><pre style="color:rgb(204, 204, 204);font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;overflow-wrap:normal;tab-size:4;hyphens:none;border-radius:6px;line-height:1.4;padding:1.25rem 1.5rem;margin:0.85rem 0px;overflow:auto;position:relative;z-index:1;background:transparent;padding-left:72px;vertical-align:middle;"><code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;margin:0px;font-size:0.85em;color:rgb(255, 255, 255);padding:0px;background-color:transparent;border-radius:0px;"><span style="color:rgb(226, 119, 122);"><span style="color:rgb(226, 119, 122);"><span style="color:rgb(204, 204, 204);">&lt;</span>link</span> <span style="color:rgb(226, 119, 122);">rel</span><span style="color:rgb(126, 198, 153);"><span style="color:rgb(204, 204, 204);">=</span><span style="color:rgb(204, 204, 204);">&quot;</span>alternate stylesheet<span style="color:rgb(204, 204, 204);">&quot;</span></span> <span style="color:rgb(226, 119, 122);">href</span><span style="color:rgb(126, 198, 153);"><span style="color:rgb(204, 204, 204);">=</span><span style="color:rgb(204, 204, 204);">&quot;</span>mystyles.css<span style="color:rgb(204, 204, 204);">&quot;</span></span> <span style="color:rgb(226, 119, 122);">onload</span><span style="color:rgb(126, 198, 153);"><span style="color:rgb(204, 204, 204);">=</span><span style="color:rgb(204, 204, 204);">&quot;</span>this.rel=<span style="color:rgb(204, 204, 204);">'</span>stylesheet<span style="color:rgb(204, 204, 204);">'</span><span style="color:rgb(204, 204, 204);">&quot;</span></span><span style="color:rgb(204, 204, 204);">&gt;</span></span>
</code></pre> <div style="position:absolute;top:0px;width:55.9916px;text-align:center;color:rgba(255, 255, 255, 0.3);padding:1.25rem 0px;line-height:1.4;"><span style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;z-index:4;user-select:none;font-size:0.85em;">1</span><br style="user-select:none;"/></div><span style="position:absolute;z-index:2;top:0px;left:0px;width:3.5rem;height:100%;border-radius:6px 0px 0px 6px;border-right:1px solid rgba(0, 0, 0, 0.66);background-color:rgb(40, 44, 52);"></span></div><h3 style="font-weight:600;line-height:1.25;font-size:21.6px;margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E8%B5%84%E6%BA%90%E5%8E%8B%E7%BC%A9" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 资源压缩</h3> <p style="line-height:1.7;">利用<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">webpack</code>、<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">gulp/grunt</code>、<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">rollup</code>等模块化工具，将<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>代码进行压缩，使文件变小，大大降低了浏览器的加载时间</p> <h3 style="font-weight:600;line-height:1.25;font-size:21.6px;margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E5%90%88%E7%90%86%E4%BD%BF%E7%94%A8%E9%80%89%E6%8B%A9%E5%99%A8" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 合理使用选择器</h3> <p style="line-height:1.7;"><code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>匹配的规则是从右往左开始匹配，例如<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">#markdown .content h3</code>匹配规则如下：</p> <ul style="padding-left:1.2em;line-height:1.7;"><li>先找到h3标签元素</li> <li>然后去除祖先不是.content的元素</li> <li>最后去除祖先不是#markdown的元素</li></ul> <p style="line-height:1.7;">如果嵌套的层级更多，页面中的元素更多，那么匹配所要花费的时间代价自然更高</p> <p style="line-height:1.7;">所以我们在编写选择器的时候，可以遵循以下规则：</p> <ul style="padding-left:1.2em;line-height:1.7;"><li>不要嵌套使用过多复杂选择器，最好不要三层以上</li> <li>使用id选择器就没必要再进行嵌套</li> <li>通配符和属性选择器效率最低，避免使用</li></ul> <h3 style="font-weight:600;line-height:1.25;font-size:21.6px;margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E5%87%8F%E5%B0%91%E4%BD%BF%E7%94%A8%E6%98%82%E8%B4%B5%E7%9A%84%E5%B1%9E%E6%80%A7" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 减少使用昂贵的属性</h3> <p style="line-height:1.7;">在页面发生重绘的时候，昂贵属性如<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">box-shadow</code>/<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">border-radius</code>/<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">filter</code>/透明度/<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">:nth-child</code>等，会降低浏览器的渲染性能</p> <h3 style="font-weight:600;line-height:1.25;font-size:21.6px;margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-import" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 不要使用@import</h3> <p style="line-height:1.7;">css样式文件有两种引入方式，一种是<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">link</code>元素，另一种是<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">@import</code></p> <p style="line-height:1.7;"><code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">@import</code>会影响浏览器的并行下载，使得页面在加载时增加额外的延迟，增添了额外的往返耗时</p> <p style="line-height:1.7;">而且多个<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">@import</code>可能会导致下载顺序紊乱</p> <p style="line-height:1.7;">比如一个css文件<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">index.css</code>包含了以下内容：<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">@import url(&quot;reset.css&quot;)</code></p> <p style="line-height:1.7;">那么浏览器就必须先把<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">index.css</code>下载、解析和执行后，才下载、解析和执行第二个文件<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">reset.css</code></p> <h3 style="font-weight:600;line-height:1.25;font-size:21.6px;margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E5%85%B6%E4%BB%96" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 其他</h3> <ul style="padding-left:1.2em;line-height:1.7;"><li>减少重排操作，以及减少不必要的重绘</li> <li>了解哪些属性可以继承而来，避免对这些属性重复编写</li> <li>cssSprite，合成所有icon图片，用宽高加上backgroud-position的背景图方式显现出我们要的icon图，减少了http请求</li> <li>把小的icon图片转成base64编码</li> <li>CSS3动画或者过渡尽量使用transform和opacity来实现动画，不要使用left和top属性</li></ul> <h2 style="font-weight:600;line-height:1.25;font-size:26.4px;padding-bottom:4.8px;border-bottom:1px solid rgb(234, 236, 239);margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 三、总结</h2> <p style="line-height:1.7;"><code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>实现性能的方式可以从选择器嵌套、属性特性、减少<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">http</code>这三面考虑，同时还要注意<code style="font-family:source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;color:rgb(71, 101, 130);padding:0.25rem 0.5rem;margin:0px;font-size:0.85em;background-color:rgba(27, 31, 35, 0.05);border-radius:3px;">css</code>代码的加载顺序</p> <h2 style="font-weight:600;line-height:1.25;font-size:26.4px;padding-bottom:4.8px;border-bottom:1px solid rgb(234, 236, 239);margin-top:-3.1rem;padding-top:73.6px;margin-bottom:0px;"><a href="https://vue3js.cn/interview/css/css_performance.html#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE" style="font-weight:500;text-decoration:none;color:rgb(62, 175, 124);font-size:0.85em;float:left;margin-left:-0.87em;padding-right:0.23em;margin-top:0.125em;opacity:0;">#</a> 参考文献</h2> <ul style="padding-left:1.2em;line-height:1.7;"><li>https://www.zhihu.com/question/19886806</li> <li>https://juejin.cn/post/6844903649605320711#heading-1</li> <li>https://vue3js.cn/interview/</li></ul></div></span></div></div></div></div></div>
</div>
</span>
</div></body></html> 