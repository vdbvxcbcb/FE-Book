<html>
<head>
  <title>CSS世界-学习笔记1</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/606060 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="621"/>
<h1>CSS世界-学习笔记1</h1>

<div>
<span><div><div><div><span style="font-size: 14pt; font-weight: bold;">第一章笔记</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">本书的CSS世界</span><span style="font-size: 12pt;">特指的是CSS2.1的世界。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">CSS世界观</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">HTML是魔法石（被施法的，说变就变），选择器是法器，CSS属性就是魔法师，CSS各种属性值就是魔法技能。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">浏览器是魔法师的王国，王国会不断更新法律法规（版本）。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">操作系统是平行世界，不同世界的浏览器王国命运不同。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">CSS世界的诞生就是为图文信息展示服务的。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">层叠的概念</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">CSS（层叠样式表）的“层叠”就是：样式可以层层累加，比方说页面元素都继承了12px的大小，某标题可以设置成14px进行叠加。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">何为“流”</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">“文档流”去掉“文档”二字，称为“流”。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“流”是CSS世界引导元素排列和定位的一条看不见的“水流”，可以理解为现实世界的物理规则，</span></font><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">比如&lt;div&gt;是容器里的水，&lt;span&gt;是容器里漂浮的木头。</span></div><div><font color="#7600D8" style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“文档流”默认的流向是“一江春水向东流”和“飞流直下三千尺”，但流向是可以改变的。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">什么是流体布局</span></font></div><div><font color="#7600D8" style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“流体布局”是利用元素“流”的特性实现的各类布局效果，往往具有自适应性。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">“流体布局”</span><span style="font-size: 12pt;">并不等同于自适应布局，它</span><span style="font-size: 12pt;">是“自适应布局”的子集，要比</span><span style="font-size: 12pt;">“自适应布局”狭窄得多。</span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">第二章</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">当某个浏览器中出现与其他浏览器不一样的行为或样式表现的时候，我们总会习惯把这种不一样的表现认为是浏览器的bug。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">但在CSS世界，这种认识是狭隘的。</span></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">就像法律存在空白，Web标准也是不可能面面俱到的，也会存在规范之外的应用场景，此时浏览器表现的差异并不是浏览器的bug，而是“未定义行为”。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">第三章</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">块级元素</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">注意：“块级元素”和“display为block的元素”不是一个概念！</span></font><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“块级元素”比“display为block的元素”范围更广！！</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">常见的块级元素：&lt;div&gt;、&lt;li&gt;、&lt;table&gt;等。它们都是“块级元素”，都符合一个水平流上只能单独显示一个元素，多个块级元素则换行显示。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">为什么 list-item 元素会出现项目符号</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">CSS 造物主原本只想世界只有块级盒子和内联盒子，块级盒子负责结构，内联盒子负责内容。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">结果，半路杀出个 list-item，默认要显示项目符号，一个块级盒子解释不了，怎么办？</span></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">造物主灵机一动，加了个盒子。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">之所以 list-item 元素会出现项目符号是因为生成了一个“</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">附加盒子</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">”，学名为“标记盒子”，专门放圆点、数字这些项目符号的。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">所有的“块级元素”都有一个“主块级盒子”，而 l</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">ist-item 元素多了一个</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“标记盒子”。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold;">又碰到个特殊性别的 display: inline-block 元素，现有的盒子无法解释，怎么办？造物主</span><span style="font-size: 12pt; font-weight: bold;">灵机一动，又加了个盒子。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font color="#7600D8" style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">每个盒子都有两个盒子：外在盒子和内在盒子。</span></font></div><div><font color="#7600D8" style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">外在盒子负责是一行显示还是换行显示，内在盒子负责宽高、内容呈现等。</span></font></div><div><font color="#7600D8" style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></font></div><div><font color="#7600D8" style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">内在盒子更专业的名称叫做“容器盒子”。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">display:block 的元素的盒子实际由外在的“块级盒子”和内在的“</span><span style="font-size: 12pt;">块级容器盒子</span><span style="font-size: 12pt;">”组成。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">display:inline-block </span><span style="font-size: 12pt;">的元素的盒子实际由外在的“内联盒子”和内在的“</span><span style="font-size: 12pt;">块级容器盒子</span><span style="font-size: 12pt;">”组成。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">display:inline </span><span style="font-size: 12pt;">的元素的盒子内外都是“内联盒子”</span><span style="font-size: 12pt;">。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">因此，display:</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">block 应该脑补为 d</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">isplay:</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">block-block 。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">display:table 应该脑补成 display:block-table，我们平时的写法实际上是一种简写。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">在 CSS3 最新的世界中，CSS 规范的撰写者们使用了另外一个名词来表示这个内在盒子，就是“flow”，也就是本书的核心</span><span style="font-size: 12pt; color: unset; font-family: unset;">“流&quot;。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">因此，display:block 更规范的脑补应该是 display:block flow。注意中间是空格。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 12pt;"><br/></font></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">width/height 作用在哪个盒子</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">答案是内在盒子，也就是“容器盒子”。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">深藏不露的width：auto</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">width：auto 的 4 种不同宽度表现</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">1、充分利用可用空间</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">：宽度默认是 100% 于父级容器。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">2、收缩与包裹：典型代表是浮动、绝对定位、inline-block 元素或 table 元素，英文直译叫“收缩到合适”，即“包裹性”</span><span style="font-size: 12pt;">，CSS3 的 fit-content 指的就是这种宽度表现。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">3、收缩到最小</span><span style="font-size: 12pt;">：在 table-layout:auto 的表格中，当每一列空间都不够时，文字能断就断，但中文随便断，英文单词不能断。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/3.jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">4、超出容器限制</span><span style="font-size: 12pt;">（有明确的 width 相关设置，就不会超出容器限制）：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">特殊情况，</span><span style="font-size: 12pt;">内容很长的连续英文和数字，或者内联元素被设置了 white-space:no-wrap（即文本换行无效），则表现为：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/3 [1].jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">内部尺寸与外部尺寸</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">在 CSS 世界中，盒子分“内在盒子”和“外在盒子”，显示也分“内部显示”和</span></span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">“外部显示”，</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">同样地，尺寸也分“内部尺寸”和“外部尺寸”。</span></div><div><b style="font-size: 12pt;"><br/></b></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">“内部尺寸”英文写作“Intrinsic Sizing&quot;，</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">“外部尺寸”英文写作“Extrinsic Sizing&quot;。</span></div><div><font color="#7600D8" style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></font></div><div><font color="#7600D8" style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">内部尺寸：尺寸由内部元素决定。</span></font></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">外部尺寸：宽度由外部元素决定。</span></div><div><font color="#7600D8" style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">width：auto 的 4 种不同宽度表现中，</span></span><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">第一种宽度表现默认宽度 100% 显示是外部尺寸，</span></font><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">其余宽度表现都是内部尺寸。</span></div><div><font color="#7600D8" style="font-size: 12pt;"><br/></font></div><div><font color="#7600D8" style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">这唯一的“外部尺寸”是“流”的精髓所在！</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">外部尺寸与流体特性（块级）</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">1、正常流宽度</span></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></font></div><div><img src="CSS世界-学习笔记1_files/epub_22692329_20.jpg" type="image/jpeg" data-filename="epub_22692329_20.jpg"/></div><div><br/></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">在页面中随便扔一个 &lt;div&gt; 元素，其尺寸表现就会和这水流一样铺满容器。</span></div><div><br/></div><div><span style="font-size: 12pt;">这就是 block 容器的流特性。这种特性，所有浏览器的表现都是一致的。</span></div><div><br/></div><div><span style="font-size: 12pt;">因此，我就实在想不通，为何那么多网站或同行会有类似下面的 CSS 写法。</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt;">a {</span></div><div><span style="font-size: 12pt;">  display: block;</span></div><div><span style="font-size: 12pt;">  width: 100%;</span></div><div><span style="font-size: 12pt;">}</span></div></div><div><br/></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">&lt;a&gt;元素默认 diplay 是 inline，所以，设置 display:block 使其块状化绝对没有问题，但后面的 width:100% 就没有任何出现的必要了。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“鑫三无准则”：“无宽度，无图片，无浮动”。</span></font></div><div><b style="font-size: 12pt;"><br/></b></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“无宽度”原因：表现为“外部尺寸”的块级元素一旦设置了宽度，流动性就丢失了。</span></div><div><font color="#7600D8" style="font-size: 12pt;"><br/></font></div><div><font color="#7600D8" style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">流动性是一种 margin/border/padding 和 content 内容区域分配水平（和垂直）空间的机制。</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/3 [2].jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;div class=&quot;nav&quot;&gt;</font></div><div><font style="font-size: 12pt;">  &lt;a href=&quot;&quot; class=&quot;nav-a&quot;&gt;导航1&lt;/a&gt;</font></div><div><font style="font-size: 12pt;">  &lt;a href=&quot;&quot; class=&quot;nav-a&quot;&gt;导航2&lt;/a&gt;</font></div><div><font style="font-size: 12pt;">  &lt;a href=&quot;&quot; class=&quot;nav-a&quot;&gt;导航3&lt;/a&gt;</font></div><div><font style="font-size: 12pt;">&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;h4&gt;width:100%&lt;/h4&gt;</font></div><div><font style="font-size: 12pt;">&lt;div class=&quot;nav&quot;&gt;</font></div><div><font style="font-size: 12pt;">  &lt;a href=&quot;&quot; class=&quot;nav-a width&quot;&gt;导航1&lt;/a&gt;</font></div><div><font style="font-size: 12pt;">  &lt;a href=&quot;&quot; class=&quot;nav-a width&quot;&gt;导航2&lt;/a&gt;</font></div><div><font style="font-size: 12pt;">  &lt;a href=&quot;&quot; class=&quot;nav-a width&quot;&gt;导航3&lt;/a&gt;</font></div><div><font style="font-size: 12pt;">&lt;/div&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">.width {</font></div><div><font style="font-size: 12pt;">  width: 100%;</font></div><div><font style="font-size: 12pt;">}</font></div><div><br/></div><div><font style="font-size: 12pt;">.nav {</font></div><div><font style="font-size: 12pt;">  </font><font style="font-size: 12pt;">width: 240px;</font></div><div><font style="font-size: 12pt;">  background-color: #cd0000;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.nav-a {</font></div><div><font style="font-size: 12pt;">  display: block;</font></div><div><font style="font-size: 12pt;">  margin: 0 10px;</font></div><div><font style="font-size: 12pt;">  padding: 9px 10px;</font></div><div><font style="font-size: 12pt;">  border-bottom: 1px solid #b70000;</font></div><div><font style="font-size: 12pt;">  border-top: 1px solid #de3636;</font></div><div><font style="font-size: 12pt;">  color: #fff;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.nav-a:first-child { border-top: 0; }</font></div><div><font style="font-size: 12pt;">.nav-a + .nav-a + .nav-a { border-bottom: 0;}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">上下两个导航均有 </span><span style="font-size: 12pt;">margin 和 padding 。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">前者无 width 设置，完全借助流特性，后者宽度</span><span style="font-size: 12pt;">width:100%。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">结果，后者的尺寸超出了外部的容器，完全就不像“水流”</span><span style="font-size: 12pt;">那样完全利用容器空间，即所谓的“流动性丢失”。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">当然，实际开发的时候，是不会设置宽度 100% 的，毕竟有显示问题。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">可能有人发挥自己天才般的计算能力，通</span><span style="font-size: 12pt;">过“容器宽度−水平 padding−水平 margin=?”重新设定具</span><span style="font-size: 12pt;">体的宽度。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">于是，最终的 CSS 代码如下：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.nav {</font></div><div><font style="font-size: 12pt;"><font>  </font>width: 240px;</font></div><div><font style="font-size: 12pt;">  background-color: #cd0000;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">.nav-a {</font></div><div><font style="font-size: 12pt;">  display: block;</font></div><div><font style="font-size: 12pt;">  /* 200px = 240px - 10px*2 - 10px*2 */</font></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">   </span><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco;"> </span><strike>width: 200px;</strike>/*去掉宽度即可实现流动性无宽度布局*/</font></div><div><font style="font-size: 12pt;">  margin: 0 10px;</font></div><div><font style="font-size: 12pt;">  padding: 9px 10px;</font></div><div><font style="font-size: 12pt;">  border-bottom: 1px solid #b70000;</font></div><div><font style="font-size: 12pt;">  border-top: 1px solid #de3636;</font></div><div><font style="font-size: 12pt;">  color: #fff;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">典型的“砌砖头”“搭积木”式思维方式！</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">虽然说最后的效果是一样的，但是，如果模块</span><span style="font-size: 12pt;">的宽度变化了，哪怕只变了 1 像素， width 也需要重新计算一遍。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">如果借助流动性无</span><span style="font-size: 12pt;">宽度布局，那么就算外面容器尺寸变化，我们的导航也可以自适应，这就是充分利用浏览器原</span><span style="font-size: 12pt;">生流特性的好处。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">因此，记住“无宽度”这条准则，少了代码，少了计算，少了维护，何乐而不为呢？</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">2、格式化宽度</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">默认情况下，绝对定位元素的宽度表现是“包裹性”。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">对于非替换元素，当 left/right 或 top/bottom 对立方位的属性值同时</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">存在时，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">元素的宽度表现为“格式化宽度”，其宽度大小相对于最近的具有定位特性</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">（position 属性值不是 static）的祖先元素计算。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">非替换元素自适应可使用：absolute、fixed。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">例如，下面一段 CSS 代码：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">div { position: absolute; left: 20px; right: 20px; }</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">假设该&lt;div&gt;元素最近的具有定位特性的祖先元素的宽度是 1000 像素，则这个&lt;div&gt;元素的宽</span><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">度是 960（即 1000−20−20）像素。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">此外，和上面的普通流一样，“格式化宽度”具有完全的流体性，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">也就是 margin、border、padding 和  content内容区域同样会自动分配水平（和垂直）空间。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">“格式化宽度”水很深，同时也非常实用。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><hr/><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">内部尺寸与流体特性（内联级）</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">1、包裹性</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“包裹性”是对“shrink-to-fit”（收缩到合适）理解后的一种称谓。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">“包裹性”也是 CSS 世界中很重要的流布局表现形式。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“包裹性”，除了“包裹”，还有“自适应性”。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“自适应性”是区分后面两种尺寸表现很重要的一点。</span></span></span></div><div><font color="#7600D8" style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“自适应性”指的是元素尺寸由内部元素决定，但永远小于“包含块”容器的尺寸（除非容器尺寸小于元素的“首选最小宽度”）。</span></span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">换句话说就是，“包裹性”元素冥冥中有个 max-width:100% 罩着的感觉（注意，此说法只是便于大家理解，实际上是有明显区别的）。</span></span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">因此，如果</span><span style="font-size: 12pt;">一个元素 </span><span style="font-size: 12pt;">display 属性值是 inline-block，那么即使其里面内容再多，只要是正常文本，宽度也不会超过容器。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">于是，图文混排的时候，我们只要关心内容，除非“首选最小宽度”比容器宽度还要大。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">按钮通常以如下两种形式出现在页面代码中：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;button&gt;按钮&lt;/button&gt;</font></div><div><font style="font-size: 12pt;">&lt;input type=&quot;button&quot; value=&quot;按钮&quot;&gt;</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">按钮就是 CSS 世界中极具代表性的 inline-block 元素，可谓展示“包裹性”最好的例子，</span></span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">具体表现为：按钮文字越多宽度越宽（内部尺寸特性），但如果文字足够多，则会在容器的宽度处自动换行（自适应特性）。</span></span></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 12pt;"><br/></span></span></span></div><div><span style="font-size: 12pt;"><span style="color: rgb(118, 0, 216); font-size: 12pt; font-weight: bold;">容器宽度定死，inline-block 子元素宽度 auto，inline-block 子元素碰到容器最大宽度，撞了南墙会乖乖换行。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">按钮会自动换行？没错，你之所以没印象，可能是因为：</span></div><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 12pt;">实际项目中，按钮上的文字个数比较有限，没机会换行；</span></div></li></ul><div><font style="font-size: 12pt;"><br/></font></div><ul><li><div><span style="font-size: 12pt;">&lt;button&gt;标签按钮才会自动换行，&lt;input&gt;标签按钮，默认white-space:pre，是不会换行的，需要将pre值重置为默认的normal。</span></div></li></ul><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;div class=&quot;box&quot;&gt;</font></div><div><font style="font-size: 12pt;">  &lt;button&gt;按钮&lt;/button&gt;</font></div><div><font style="font-size: 12pt;">&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;div class=&quot;box&quot;&gt;</font></div><div><font style="font-size: 12pt;">  &lt;button&gt;文字再多一点&lt;/button&gt;</font></div><div><font style="font-size: 12pt;">&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;div class=&quot;box&quot;&gt;</font></div><div><font style="font-size: 12pt;">  &lt;button&gt;按钮文字越多宽度越宽（包裹，内部尺寸特性），但不会超过容器宽度（自适应性）&lt;/button&gt;</font></div><div><font style="font-size: 12pt;">&lt;/div&gt;</font></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><font style="font-size: 12pt;">.box {</font></div><div><font style="font-size: 12pt;">  width: 240px;</font></div><div><font style="font-size: 12pt;">  margin: 20px auto;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_23.jpg" type="image/jpeg" data-filename="epub_22692329_23.jpg"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">“包裹性”对实际开发有什么作用呢？</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">请看这个需求：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">页面某个模块的文字内容是动态的，可能是几个字，也可能是一句话。然后，希望文字少的时候居中显示，文字超过一行的时候居左显示。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;div class=&quot;box&quot;&gt;</font></div><div><font style="font-size: 12pt;">  &lt;p id=&quot;conMore&quot; class=&quot;content&quot;&gt;文字内容&lt;/p&gt;</font></div><div><font style="font-size: 12pt;">&lt;/div&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">.box {</font></div><div><font style="font-size: 12pt;">  padding: 10px;</font></div><div><font style="font-size: 12pt;">  background-color: #cd0000;</font></div><div><font style="font-size: 12pt;">  text-align: center;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.content {</font></div><div><font style="font-size: 12pt;">  display: inline-block;</font></div><div><font style="font-size: 12pt;">  text-align: left;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><br/></div><div><span style="font-size: 12pt;">文字少时</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_25.jpg" type="image/jpeg" data-filename="epub_22692329_25.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">文字多时</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_26.jpg" type="image/jpeg" data-filename="epub_22692329_26.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">除了 inline-block 元素，浮动元素以及绝对定位元素都具有包裹性，均有类似的智能宽度行为。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold;">2、</span><span style="font-size: 12pt; font-weight: bold;">首选最小宽度</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;"><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216);">“首选最小宽度”，指的是元素最适合的最小宽度</span>。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">接着上面的例子，</span><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">在上面例子中，外部容器的宽度是 240 像素，假设外部容器宽度是 0，里面的 inline-block 元素的宽度会是多少？</span></span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">是 0 吗？不是。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">在 CSS 世界中，图片和文字的权重要远大于布局，</span></span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">因此，CSS 的设计者不会让图文在 width:auto 时宽度变成 0 的，此时所表现的宽度就是“首选最小宽度”。</span></span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">东亚文字（如中文）最小宽度为每个汉字的宽度</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">中文汉字与最小宽度效果</span><span style="font-size: 12pt;"> </span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_28.jpg" type="image/jpeg" data-filename="epub_22692329_28.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">西方文字最小宽度由特定的连续的英文字符单元决定。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">并不是所有的英文字符都会组成连续单元，一般会终止于空格（普通空格）、短横线、问号以及其他非英文字符等。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">连续字符换行点示意</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_29.jpg" type="image/jpeg" data-filename="epub_22692329_29.jpg"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">类似图片这样的替换元素的最小宽度就是该元素内容本身的宽度。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: unset; font-family: unset; font-weight: bold;">“首选最小宽度”对我们实际开发有什么作用呢？</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">可以让我们遇到类似现象的时候知道原因是什么，方便迅速对症下药，其他就没什么用了。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">有点失望？那就举个利用“首选最小宽度”构建图形的例子吧。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">请问，如何使用一层 HTML 标签分别实现下图所示的“凹”和“凸”效果（注意要兼容IE8）？</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">由于要兼容 IE8， CSS新世界中图形构建利器的盒阴影和背景渐变全都没有用武之地</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">我们可以利用“首选最小宽度”的行为特点把需要的图形勾勒出来。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;span class=&quot;ao&quot;&gt;&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">&lt;span class=&quot;tu&quot;&gt;&lt;/span&gt;</font></div><div><br/></div><div><font style="font-size: 12pt;">.ao,.tu {</font></div><div><font style="font-size: 12pt;">  display: inline-block;</font></div><div><font style="font-size: 12pt;">  width: 0;</font></div><div><font style="font-size: 12pt;">  font-size: 14px;</font></div><div><font style="font-size: 12pt;">  line-height: 18px;</font></div><div><font style="font-size: 12pt;">  margin: 35px;</font></div><div><font style="font-size: 12pt;">  color: #fff;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.ao:before,.tu:before {</font></div><div><font style="font-size: 12pt;">  outline: 2px solid #cd0000;</font></div><div><font style="font-size: 12pt;">  font-family: Consolas, Monaco, monospace;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.ao:before {</font></div><div><font style="font-size: 12pt;">  content: &quot;love你love&quot;;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.tu {</font></div><div><font style="font-size: 12pt;">  direction: rtl;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.tu:before {</font></div><div><font style="font-size: 12pt;">  content: &quot;我love你&quot;;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">图形由文字区域勾勒而成</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_31.jpg" type="image/jpeg" data-filename="epub_22692329_31.jpg"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold;">3、</span><span style="font-size: 12pt; font-weight: bold;">最大宽度</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">最大宽度就是元素可以有的最大宽度。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“最大宽度”实际等同于“包裹性”元素设置 white-space:nowrap 声明后的宽度。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">如果内部没有块级元素或者块级元素没有设定宽度值，则“最大宽度”实际上是最大的连续内联盒子的宽度。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">什么是连续内联盒子？</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">可以简单地将其理解为 display 为 inline、inline-block、inline-table 等元素。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">“连续内联盒子”指的全部都是内联级别的一个或一堆元素，中间没有任何的换行标签&lt;br&gt;或其他块级元素。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">下图所示是一段很平常的 HTML 片段的“连续内联盒子”信息标注图</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_33.jpg" type="image/jpeg" data-filename="epub_22692329_33.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">其中，有 3 处连续内联盒子，分别是：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">• &lt;br&gt; 前面的 4 个内联盒子组合；</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">• &lt;br&gt; 后面“我是下一行”字样所在的匿名内联盒子；</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">• 最后块状 &lt;p&gt; 标签内的内联盒子，也就是一段文本。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">此时“最大宽度”就是这 3 个连续内联盒子的宽度的最大值。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">如果把标注图的代码在浏览器中运行一下，则</span><span style="font-size: 12pt;">最后的宽度就是第一个“连续内联盒子”的宽度。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_34.jpg" type="image/jpeg" data-filename="epub_22692329_34.jpg"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">“最大宽度”对我们实际开发有什么作用呢？</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">大部分需要使用“最大宽度”的场景都可以通过设置一个“很大宽度”来替换实现。</span>（注意，这里的</span><span style="font-size: 12pt;">“很大宽度”和“最大宽度”是有本质区别的</span><span style="font-size: 12pt;">）</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: rgb(118, 0, 216); font-family: unset; font-weight: bold;">比方说，有 5 张图片，每张图片宽度 200 像素，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">假设图片元素紧密排列，则“最大宽度”就是 1000 像素。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">但是，实际开发的时候，我们懒得计算，可能直接设置容器 width:2000px，这里2000px 就是“很大宽度”，</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(118, 0, 216); font-weight: bold;">宽度足够大，作用是保证图片不会因为容器宽度不足而不在一行内显示。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">两者都能实现几张图片左右滑来滑去的效果。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">有没有场景只能是“最大宽度”而不是“很大宽度”呢？</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">有！不知大家有没有听过iScroll，它可以实现非常平滑的滚动效果，在前端界颇有名气。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold;">一般来讲，</span><span style="font-size: 12pt; font-weight: bold;">实现自定义滚动有两种原理：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">一种借助原生的滚动，scrollLeft/scrollTop值变化，它的优点是简单，不足是效果呆板；</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">另一种是<span style="font-size: 12pt; font-weight: bold;">根据内部元素的尺寸和容器的关系，通过修改内部元素的位置实现滚动效果，优点是效果可以很绽放</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">iScroll 就是使用的后者。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">因此，<span style="font-size: 12pt; font-weight: bold;">如果我们希望使用 iScroll 模拟水平滚动，只能是使用“最大宽度”，这样，滚动到底的时候才是真的到底。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;div id=&quot;wrap&quot; class=&quot;wrap&quot;&gt;</font></div><div><font style="font-size: 12pt;">  &lt;ul&gt;</font></div><div><font style="font-size: 12pt;">    &lt;li&gt;&lt;img src=&quot;1.jpg&quot;&gt;&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">    &lt;li&gt;&lt;img src=&quot;1.jpg&quot;&gt;&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">    &lt;li&gt;&lt;img src=&quot;1.jpg&quot;&gt;&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">    &lt;li&gt;&lt;img src=&quot;1.jpg&quot;&gt;&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">    &lt;li&gt;&lt;img src=&quot;1.jpg&quot;&gt;&lt;/li&gt;</font></div><div><font style="font-size: 12pt;">  &lt;/ul&gt;</font></div><div><font style="font-size: 12pt;">&lt;/div&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">.wrap {</font></div><div><font style="font-size: 12pt;">  width: 300px; height: 200px;</font></div><div><font style="font-size: 12pt;">  position: relative;</font></div><div><font style="font-size: 12pt;">  overflow: hidden;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.wrap &gt; ul {</font></div><div><font style="font-size: 12pt;">  position: absolute;</font></div><div><font style="font-size: 12pt;">  white-space: nowrap;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">.wrap li {</font></div><div><font style="font-size: 12pt;">  display: inline-block;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">new IScroll('#wrap', {</font></div><div><font style="font-size: 12pt;">  scrollbars: true,</font></div><div><font style="font-size: 12pt;">  scrollX: true,</font></div><div><font style="font-size: 12pt;">  scrollY: false});</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">width 值作用的细节</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">width 是作用在“内在盒子”上的</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">这个“内在盒子”是由很多部分构成的。这个盒子的构成和地球结构的构成惊人的类似</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_37.jpg" type="image/jpeg" data-filename="epub_22692329_37.jpg" width="542"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">“<span style="font-size: 12pt; font-weight: bold;">内在盒子”又被分成了4个盒子，分别是content box、padding box、border box 和 margin box 。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">后来，<span style="font-size: 12pt; font-weight: bold;">这几个盒子在 CSS 语言层有名字了，一下子变成有身份的人了</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">为何唯独 margin box 并没有对应的 CSS 关键字名称呢？</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">因为目前没有任何场景需要用到 margin box 。</span></div><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 12pt;">“margin的背景永远是透明的”，因此不可能作为 backgound-clip 或 background-origin 属性值出现。</span></div></li></ul><div><span style="font-size: 12pt;"><br/></span></div><ul><li><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">margin 一旦设定具体宽度和高度值，其本身的尺寸是不会因margin值变化而变化的，因此作为box-sizing的属性值存在也就没有了意义</span></span></div></li></ul><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">对于一个&lt;div&gt;元素，我们设定其宽度为100px，如下：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">div { width: 100px; }</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">100px 的宽度是如何作用到这个 &lt;div&gt;元素上的？</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">content box 环绕着 width 和 height 给定的矩形。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">说得这么直白，我已经没什么其他可说的了。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">明摆着，width:100px 作用在了 content box 上，由于 &lt;div&gt; 元素默认的 padding、border 和 margin 都是0，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">因此，该 &lt;div&gt; 所呈现的宽度就是100像素。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">按照这种说法，如果我们在水平方向给定 padding 和 border 大小，则元素的尺寸就不是 100 像素了</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">div { width: 100px; padding: 20px; border: 20px solid; }</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_38.jpg" type="image/jpeg" data-filename="epub_22692329_38.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">为什么会变宽呢？</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">其实很好理解，因为</span><span style="font-size: 12pt; font-weight: bold;">宽度是作用在 content box 上的，而外面围绕的 padding box 和 border box 又不是摆设，自然实际尺寸要比设定的大</span><span style="font-size: 12pt;">。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_40.jpg" type="image/jpeg" data-filename="epub_22692329_40.jpg"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold;">如果单看定义和表现，似乎一切都合情合理，但实际上，有时候，这种宽度设定和表现并不合理。</span><span style="font-size: 12pt; font-weight: bold;">总结为以下两点。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold;">1、</span><span style="font-size: 12pt; font-weight: bold;">流动性丢失</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216); font-family: unset;">对于块状元素，如果 width:auto，则元素会如水流般充满整个容器，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216);">而一旦设定了 width 具体数值，则元素的流动性就会被阻断，因为元素给定宽度就像河流中间竖了两个大闸一样，就没有了流动性。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">尤其宽度作用在 content box 上，更是内外流动性全无</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">如图所示</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><img src="CSS世界-学习笔记1_files/epub_22692329_41.jpg" type="image/jpeg" data-filename="epub_22692329_41.jpg" width="709"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">这世界上任何事物，一旦限死了，就丧失了灵活性，其发展潜力及作用范围就会大大受限。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216);">这就是提出“无宽度准则”的原因 — 布局会更灵活，容错性会更强。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold;">2、</span><span style="font-size: 12pt; font-weight: bold; color: unset; font-family: unset;">与现实世界表现不一致的困扰</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">包含 padding 或 border 会让元素宽度变大的这种 CSS 表现往往会让 CSS 使用者困惑：我设置宽度为100像素，其实是希望整个最终的宽度是100像素，这样才符合现实理解嘛。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">比方说，我买个140</span><span style="font-size: 12pt;">平方米</span><span style="font-size: 12pt;">的房子，肯定是连墙体面积在内的啊，实际使用面积比140平方米小才是现实，你说现在最终面积比140</span><span style="font-size: 12pt;">平方米</span><span style="font-size: 12pt;">还大，这种事情显然是不科学不合理的。</span></div><div><font color="#7600D8" style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="color: rgb(118, 0, 216); font-size: 12pt; font-weight: bold;">这对一些 CSS 新手的布局造成了一定的障碍，因为这些 CSS 从业者眼中的 CSS 结构是砖块，而不是水流，</span></span><span style="color: rgb(118, 0, 216); font-weight: bold; font-family: unset; font-size: 12pt;">布局讲求尺寸精确计算。</span></div><div><b style="font-size: 12pt;"><br/></b></div><div><b style="font-size: 12pt;"><span style="font-weight: bold; font-family: unset; font-size: 12pt; color: rgb(118, 0, 216);">这就导致在一些 CSS 属性值发生变化的时候（如 padding 值变大，元素尺寸也变大），空间不足，出现页面布局错位的问题。</span></b></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">那有没有什么办法能避免这种错位问题的出现呢？</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216);">方法之一就是采用书写方式约束，如使用“宽度分离原则”。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-weight: bold; color: unset; font-family: unset; font-size: 12pt;">CSS 流体布局下的宽度分离原则</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216);">所谓“宽度分离原则”，就是 CSS 中的 width 属性不与影响宽度的 padding/border（有时候包括margin）属性共存</span>，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">也就是不能出现以下的组合：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.box { width: 100px; border: 1px solid; }</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">或</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.box { width: 100px; padding: 20px; }</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-weight: bold; color: unset; font-family: unset; font-size: 12pt;">不这么写，该怎么写呢？</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">很简单，分离，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216);">width 独立占用一层标签，而 padding、border、margin 利用流动性在内部自适应呈现。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.father {</font></div><div><font style="font-size: 12pt;">   width: 180px;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">.son {</font></div><div><font style="font-size: 12pt;">   margin: 0 20px;</font></div><div><font style="font-size: 12pt;">   padding: 20px;</font></div><div><font style="font-size: 12pt;">   border: 1px solid;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216);">无宽度指的是父元素设定宽度，子元素不设置默认为 width：auto</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">在前端领域，一提到分离，作用一定是便于维护。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">比方说，样式和行为分离、前后端分离或者这里的“宽度分离”。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">道理其实很简单，当一件事情的发展可以被多个因素所左右的时候，这个事情最终的结果就会变数很大而不可预期。</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">宽度在这里也是类似，由于盒尺寸中的4个盒子都能影响宽度，自然页面元素的最终宽度就很容易发生变化而导致意想不到的布局发生。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">例如，下面这个简单的 CSS：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.box {</font></div><div><font style="font-size: 12pt;">  width: 100px;</font></div><div><font style="font-size: 12pt;">  border: 1px solid;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">此时宽度是 102 像素。然后，设计师希望元素边框内有20像素的留白，这时候，我们会增加 padding 设置：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.box {</font></div><div><font style="font-size: 12pt;">  width: 100px;</font></div><div><font style="font-size: 12pt;">  padding: 20px;</font></div><div><font style="font-size: 12pt;">  border: 1px solid;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">结果此时宽度变成了142像素，大了 40 像素，跟原来宽度差异明显，显然布局很容易出问题。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">为了不影响之前的布局，我们还需要通过计算减去40像素的padding大小才行：</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.box {</font></div><div><font style="font-size: 12pt;">  width: 60px;         // 通过计算，减去40像素</font></div><div><font style="font-size: 12pt;">  padding: 20px;</font></div><div><font style="font-size: 12pt;">  border: 1px solid;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">但是，如果我们使用了宽度分离，事情就会轻松很多：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.father {</font></div><div><font style="font-size: 12pt;">  width: 102px;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">.son {</font></div><div><font style="font-size: 12pt;">  border: 1px solid;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;">  </span></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">嵌套一层标签，父元素定宽，子元素因为 width 使用的是默认值 auto，所以会如水流般自动填满父级容器。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">因此，子元素的 content box 宽度就是 100 像素，和上面直接设置 width 为100 像素表现一样。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">然后，同样的故事，设计师希望元素边框内有 20 像素的留白，这时候，我们会增加 padding 设置：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.father {</font></div><div><font style="font-size: 12pt;">  width: 102px;</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">.son {</font></div><div><font style="font-size: 12pt;">  border: 1px solid;</font></div><div><font style="font-size: 12pt;">  padding: 20px;</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">然后……就没有然后了，宽度还是 102 像素，子元素的 content box 自动变成了 60 像素</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold; color: rgb(118, 0, 216);">使用“宽度分离”后，咱们不需要烧脑子去计算了，而且页面结构反而更稳固。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt; color: unset; font-family: unset;">“宽度分离”多使用了一层标签啊，这 HTML 成本也是成本啊！</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">这个成本跟收益比起来简直就是毛毛雨。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">那有没有什么既无须计算，又无须额外嵌套标签的实现呢？</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">有，那就是可以改变 width 作用细节的 box-sizing 属性。</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">box-sizing被直译为“盒尺寸”，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">实际上，其更准确的叫法应该是“盒尺寸的作用细节”，或者说得更通俗一点，叫“width作用的细节”，</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">也就是说，box-sizing属性的作用是改变width的作用细节。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">所谓 box-sizing:border-box 就是让100像素的宽度直接作用在borderbox上，从默认的content box变成border box。</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">此时，content box 从宽度值中释放，形成了局部的流动性，和 padding、border一起自动分配width值。</span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><br/></div></div><div><br/></div><hr/><div><br/></div></div></span>
</div></body></html> 