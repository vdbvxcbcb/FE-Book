<html>
<head>
  <title>8- 详情页开发</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/606060 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3626"/>
<h1>8- 详情页开发</h1>

<div>
<span><div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">详情页开发</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">动态路由及Banner布局</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">新建分支为</span><span style="font-size: 12pt;">detail-banner</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><font>cd ./Desktop/</font>travel</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git pull</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git checkout detail-banner</font></div></div><div><span style="font-size: 12pt;"> </span></div><div><span style="font-size: 12pt;">我们希望点击推荐中的一项，比如点击公园进入详情页面</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">打开home文件夹下的Recommand.vue文件</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Recommand.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><font>&lt;router-link <b>tag=&quot;li&quot;</b> </font><b>:to=&quot;'/detail/' + item.id&quot;</b> class=&quot;item border-bottom&quot; v-for=&quot;item of list&quot; :key=&quot;item.id&quot;&gt;</font></div><div><font style="font-size: 12pt;">    &lt;img class=&quot;item-img&quot; :src=&quot;item.imgUrl&quot;/&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div class=&quot;item-info&quot;&gt;</font></div><div><font style="font-size: 12pt;">        &lt;p class=&quot;item-title&quot;&gt;{{item.title}}&lt;/p&gt;</font></div><div><font style="font-size: 12pt;">        &lt;p class=&quot;item-desc&quot;&gt;{{item.desc}}&lt;/p&gt;</font></div><div><font style="font-size: 12pt;">        &lt;button class=&quot;item-button&quot;&gt;查看详情&lt;/button&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;</font></div><div><b><font style="font-size: 12pt;">&lt;/router-link</font>&gt;</b></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">将&lt;li&gt; 改为 &lt;router-link tag=&quot;li&quot;&gt; 表示&lt;</span> <span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-family: 微软雅黑; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">router-link&gt;</span><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">渲染成&lt;li&gt;标签，不会渲染成&lt;a&gt;标签就没有默认样式了</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">找到router文件夹下的index.js添加路由项</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">index.js</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">export default new Router({</font></div><div><font style="font-size: 12pt;">  routes: [{</font></div><div><font style="font-size: 12pt;">      path: '/',</font></div><div><font style="font-size: 12pt;">      name: 'Home',</font></div><div><font style="font-size: 12pt;">      component: Home</font></div><div><font style="font-size: 12pt;">  }, {</font></div><div><font style="font-size: 12pt;">      path: '/city',</font></div><div><font style="font-size: 12pt;">      name: 'City',</font></div><div><font style="font-size: 12pt;">      component: City</font></div><div><font style="font-size: 12pt;">  }, <b>{</b></font></div><div><font style="font-size: 12pt;"><b>      path: '/detail/:id',</b></font></div><div><font style="font-size: 12pt;"><b>      name: 'Detail',</b></font></div><div><font style="font-size: 12pt;"><b>      component: Detail</b></font></div><div><font style="font-size: 12pt;"><b>  }</b>]</font></div><div><font style="font-size: 12pt;">})</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">/detail/:id 就是动态路由，</span><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">&lt;router-link&gt;的 </span></span><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">:to=&quot;'/detail/' + item.id&quot; ，</span></span><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">item.id</span><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">会传给</span><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">/detail/:id 的 id变量</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">router文件夹下的index.js </span><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">引入Detail组件</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">import Vue from 'vue'</font></div><div><font style="font-size: 12pt;">import Router from 'vue-router'</font></div><div><font style="font-size: 12pt;">import Home from '@/pages/home/Home.vue'</font></div><div><font style="font-size: 12pt;">import City from '@/pages/city/City.vue'</font></div><div><font style="font-size: 12pt;"><b>import Detail from '@/pages/detail/Detail.vue'</b></font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3.jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">pages文件夹下新建文件夹为detail，在detail文件夹下新建Detail.vue</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;detail&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;"><b>export default {</b></font></div><div><font style="font-size: 12pt;"><b>    name: 'Detail'</b></font></div><div><font style="font-size: 12pt;"><b>}</b></font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">打开去哪儿网</span><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">http://piao.qunar.com/touch/</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">新建compoenents文件夹，再新建Banner.vue</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;banner&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;"><b>export default {</b></font></div><div><font style="font-size: 12pt;"><b>    name: 'DetailBanner'</b></font></div><div><font style="font-size: 12pt;"><b>}</b></font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Detail.vue 引入Banner.vue组件 并注册为局部组件</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;detail-banner&gt;&lt;/detail-banner&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">import DetailBanner from './components/Banner.vue'</font></div><div><font style="font-size: 12pt;"><b>export default {</b></font></div><div><font style="font-size: 12pt;"><b>    name: 'Detail',</b></font></div><div><font style="font-size: 12pt;"><b>    components: {</b></font></div><div><font style="font-size: 12pt;"><b>        DetailBanner</b></font></div><div><font style="font-size: 12pt;"><b>    }</b></font></div><div><font style="font-size: 12pt;"><b>}</b></font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">Detail.vue</span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div class=&quot;banner&quot;&gt;</font></div><div><font style="font-size: 12pt;">        &lt;img class=&quot;banner-img&quot; src=&quot;//img1.qunarzz.com/sight/p0/1507/72/72d087ebb95580c2.img.jpg_600x330_f4701f0e.jpg&quot;/&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;banner-info&quot;&gt;</font></div><div><font style="font-size: 12pt;">            &lt;div class=&quot;banner-title&quot;&gt;南沙湿地公园&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">            &lt;div class=&quot;banner-icon&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;span class=&quot;iconfont&quot;&gt;&amp;#xe647;&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">                &lt;em class=&quot;icon-number&quot;&gt;32&lt;/em&gt;</font></div><div><font style="font-size: 12pt;">            &lt;/div&gt;            </font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'DetailBanner'</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">     .banner</font></div><div><font style="font-size: 12pt;">         position: relative</font></div><div><font style="font-size: 12pt;">         overflow: hidden</font></div><div><font style="font-size: 12pt;">         width: 100%</font></div><div><font style="font-size: 12pt;">         height: 0</font></div><div><font style="font-size: 12pt;">         padding-bottom: 55%</font></div><div><font style="font-size: 12pt;">     .banner-img</font></div><div><font style="font-size: 12pt;">         width: 100%</font></div><div><font style="font-size: 12pt;">     .banner-info</font></div><div><font style="font-size: 12pt;">         position: absolute</font></div><div><font style="font-size: 12pt;">         left: .2rem</font></div><div><font style="font-size: 12pt;">         bottom: .36rem</font></div><div><font style="font-size: 12pt;">         color: #fff</font></div><div><font style="font-size: 12pt;">         .banner-title</font></div><div><font style="font-size: 12pt;">            font-size: .36rem</font></div><div><font style="font-size: 12pt;">        .banner-icon</font></div><div><font style="font-size: 12pt;">            position: absolute</font></div><div><font style="font-size: 12pt;">            bottom: .5rem</font></div><div><font style="font-size: 12pt;">            width: 1.2rem</font></div><div><font style="font-size: 12pt;">            font-size: .24rem</font></div><div><font style="font-size: 12pt;">            line-height: .4rem  </font></div><div><font style="font-size: 12pt;">            text-align: center</font></div><div><font style="font-size: 12pt;">            border-radius: .2rem           </font></div><div><font style="font-size: 12pt;">            background: rgba(0, 0 ,0, .5)</font></div><div><font style="font-size: 12pt;">            .iconfont</font></div><div><font style="font-size: 12pt;">                font-size: .2rem</font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">替换字体图标时，在阿里图标库添加至项目并下载到本地后，把新下的下列文件（除iconfont.css）替换src =&gt; styles =&gt; icontfont文件夹的文件</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3.png" type="image/png" data-filename="3.png"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">打开新下的</span><span style="font-size: 12pt;">iconfont.css，把新的url(base64)替换旧的iconfont.css的</span><span style="font-size: 12pt;">url(base64)</span><span style="font-size: 12pt;">即可</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3 [1].jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">公用图片画廊组件拆分</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">在src目录下创建一个common文件夹存放全局公用的组件，common目录下新建文件夹gallary并创建Gallary.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3 [2].jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;gallary&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;"><b>export default {</b></font></div><div><font style="font-size: 12pt;"><b>    name: 'CommonGallary'</b></font></div><div><font style="font-size: 12pt;"><b>}</b></font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">在build目录下的webpack.base.conf.js的alias下创建一个别名：</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">resolve: {</font></div><div><font style="font-size: 12pt;">    extensions: ['.js', '.vue', '.json'],</font></div><div><font style="font-size: 12pt;">    <b>alias: {</b></font></div><div><font style="font-size: 12pt;">      '@': resolve('src'),</font></div><div><font style="font-size: 12pt;">      'styles': resolve('src/assets/styles'),</font></div><div><font style="font-size: 12pt;">      <b>'common': resolve('src/common')</b></font></div><div><font style="font-size: 12pt;">    <b>}</b></font></div><div><font style="font-size: 12pt;"> }</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">重启项目</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">ctrl + c</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">npm run start</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">在Banner.vue中引入</span><span style="font-size: 12pt; font-weight: bold;">Gallary.vue</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3 [3].jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Banner.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;banner&quot;&gt;</font></div><div><font style="font-size: 12pt;">            &lt;img class=&quot;banner-img&quot; src=&quot;//img1.qunarzz.com/sight/p0/1507/72/72d087ebb95580c2.img.jpg_600x330_f4701f0e.jpg&quot;/&gt;</font></div><div><font style="font-size: 12pt;">            &lt;div class=&quot;banner-info&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;banner-title&quot;&gt;南沙湿地公园&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;banner-icon&quot;&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;span class=&quot;iconfont&quot;&gt;&amp;#xe647;&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;em class=&quot;icon-number&quot;&gt;32&lt;/em&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/div&gt;            </font></div><div><font style="font-size: 12pt;">            &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        <b>&lt;common-gallary&gt;&lt;/common-gallary&gt;</b></font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;   </font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;"><b>import CommonGallary from 'common/gallary/Gallary.vue'</b></font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'DetailBanner',</font></div><div><font style="font-size: 12pt;">    <b>components: {</b></font></div><div><font style="font-size: 12pt;"><b>        CommonGallary</b></font></div><div><font style="font-size: 12pt;"><b>    }</b></font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Gallary.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    <b>&lt;div class=&quot;container&quot; @click=&quot;handleGallaryClick&quot;&gt;</b></font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;wrapper&quot;&gt;</font></div><div><font style="font-size: 12pt;">            &lt;swiper <b>:options=&quot;swiperOption&quot;</b>&gt;</font></div><div><font style="font-size: 12pt;">                &lt;swiper-slide <b>v-for=&quot;(item,index) of imgs&quot; :key=&quot;index&quot;</b>&gt; <b>&lt;!-- 接受父组件传值 --&gt;</b></font></div><div><font style="font-size: 12pt;">                    &lt;img class=&quot;gallary-img&quot;</font></div><div><font style="font-size: 12pt;">                    <b>:src=&quot;item&quot;</b>/&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/swiper-slide&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;swiper-pagination&quot;  slot=&quot;pagination&quot;&gt;&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">            &lt;/swiper&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">    <b>&lt;/div&gt;</b></font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'CommonGallary',</font></div><div><font style="font-size: 12pt;">    <b>props: {</b></font></div><div><font style="font-size: 12pt;"><b>        imgs: {</b></font></div><div><font style="font-size: 12pt;"><b>            type: Array,</b></font></div><div><font style="font-size: 12pt;"><b>            default () {</b></font></div><div><font style="font-size: 12pt;"><b>                return []  // 如果Banner.vue不传值，就默认返回空</b></font></div><div><font style="font-size: 12pt;"><b>            }</b></font></div><div><font style="font-size: 12pt;"><b>        }</b></font></div><div><font style="font-size: 12pt;"><b>    }</b>,</font></div><div><font style="font-size: 12pt;">    data () {</font></div><div><font style="font-size: 12pt;">        return {</font></div><div><font style="font-size: 12pt;">            swiperOption: {</font></div><div><font style="font-size: 12pt;">                pagination: '.swiper-pagination',</font></div><div><font style="font-size: 12pt;">     </font><font style="font-size: 12pt;"><b>           paginationType : 'fraction', // 分页器样式为分式形式</b></font></div><div><font style="font-size: 12pt;"><b><font>                observeParents: true, // </font>重新打开时轮播图会无法滚动，Swiper计算宽度会有问题，Swiper需要监视让父子重新渲染</b></font></div><div><font style="font-size: 12pt;"><font><b>                observer: true </b></font></font></div><div><font style="font-size: 12pt;"><font><b>                // </b></font><b>出现这个问题的原因是当父组件变化的时候，子组件没有办法获取父组件的宽度等信息，</b></font><span style="font-size: 12pt;"><b>这两个配置项的作用就是在父组件或者自身发生变化的时候</b></span></div><div><span style="font-size: 12pt;"><b>                // swiper组件自动会刷新一次。</b></span></div><div><font style="font-size: 12pt;">            }</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    methods: {</font></div><div><font style="font-size: 12pt;">        <b>handleGallaryClick () {</b></font></div><div><font style="font-size: 12pt;"><b>            this.$emit('close')</b></font></div><div><font style="font-size: 12pt;"><b>        }</b></font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">  </font><font style="font-size: 12pt;"><b><font>  .container &gt;&gt;&gt; .swiper-container  /*让</font>swiper-pagination bottom: -1rem生效<font>*/</font></b></font></div><div><font style="font-size: 12pt;"><b>        overflow: inherit</b></font></div><div><font style="font-size: 12pt;">    .container       </font></div><div><font style="font-size: 12pt;">        display: flex</font></div><div><font style="font-size: 12pt;">        flex-direction: column</font></div><div><font style="font-size: 12pt;">        justify-content: center  </font></div><div><font style="font-size: 12pt;">       <b> position: fixed</b></font></div><div><font style="font-size: 12pt;"><b>        left: 0</b></font></div><div><font style="font-size: 12pt;"><b>        right: 0</b></font></div><div><font style="font-size: 12pt;"><b>        top: 0</b></font></div><div><font style="font-size: 12pt;"><b>        bottom: 0</b></font></div><div><font style="font-size: 12pt;"><b>        z-index: 1</b></font></div><div><font style="font-size: 12pt;"><b>        background: #000</b></font></div><div><font style="font-size: 12pt;">    .wrapper   </font></div><div><font style="font-size: 12pt;">        width: 100%  </font></div><div><font style="font-size: 12pt;">        .gallary-img</font></div><div><font style="font-size: 12pt;">            width: 100%</font></div><div><font style="font-size: 12pt;">        <b>.swiper-pagination</b></font></div><div><font style="font-size: 12pt;"><b>            </b>color: #fff    </font></div><div><font style="font-size: 12pt;">            <b>bottom: -1rem  </b></font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Banner.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;banner&quot; @click=&quot;handleClick&quot;&gt;</font></div><div><font style="font-size: 12pt;">            &lt;img class=&quot;banner-img&quot; src=&quot;//img1.qunarzz.com/sight/p0/1507/72/72d087ebb95580c2.img.jpg_600x330_f4701f0e.jpg&quot;/&gt;</font></div><div><font style="font-size: 12pt;">            &lt;div class=&quot;banner-info&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;banner-title&quot;&gt;南沙湿地公园&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;banner-icon&quot;&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;span class=&quot;iconfont&quot;&gt;&amp;#xe647;&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;em class=&quot;icon-number&quot;&gt;32&lt;/em&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/div&gt;            </font></div><div><font style="font-size: 12pt;">            &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;common-gallary</font></div><div><font style="font-size: 12pt;">        <b>:imgs=&quot;imgs&quot;</b></font></div><div><font style="font-size: 12pt;">        <b>v-show=&quot;showGallary&quot; </b></font></div><div><font style="font-size: 12pt;">        <b>@close=&quot;handleGallaryClose&quot;</b>&gt;&lt;/common-gallary&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;   </font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">import CommonGallary from 'common/gallary/Gallary.vue'</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'DetailBanner',</font></div><div><font style="font-size: 12pt;">    data () {</font></div><div><font style="font-size: 12pt;">        return {</font></div><div><font style="font-size: 12pt;">            <b>showGallary: false, // 默认画廊是隐藏的</b>            </font></div><div><font style="font-size: 12pt;">            <b>imgs: ['http://img1.qunarzz.com/sight/p0/1507/72/72d087ebb95580c2.img.jpg_r_800x800_3417c021.jpg',</b></font></div><div><font style="font-size: 12pt;"><b>            'http://img1.qunarzz.com/sight/p0/1411/93/4bf4b62f71008cab655a079edc90bdb2.water.jpg_r_800x800_46fdfff2.jpg']</b></font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    methods: {</font></div><div><font style="font-size: 12pt;">        <b>handleClick () {</b></font></div><div><font style="font-size: 12pt;"><b>             this.showGallary = true</b></font></div><div><font style="font-size: 12pt;"><b>        },</b></font></div><div><font style="font-size: 12pt;"><b>        handleGallaryClose () {</b></font></div><div><font style="font-size: 12pt;"><b>            this.showGallary = false</b></font></div><div><font style="font-size: 12pt;"><b>        }</b></font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    components: {</font></div><div><font style="font-size: 12pt;">        CommonGallary</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">     .banner</font></div><div><font style="font-size: 12pt;">         position: relative</font></div><div><font style="font-size: 12pt;">         overflow: hidden</font></div><div><font style="font-size: 12pt;">         width: 100%</font></div><div><font style="font-size: 12pt;">         height: 0</font></div><div><font style="font-size: 12pt;">         padding-bottom: 55%</font></div><div><font style="font-size: 12pt;">     .banner-img</font></div><div><font style="font-size: 12pt;">         width: 100%</font></div><div><font style="font-size: 12pt;">     .banner-info</font></div><div><font style="font-size: 12pt;">         position: absolute</font></div><div><font style="font-size: 12pt;">         left: .2rem</font></div><div><font style="font-size: 12pt;">         bottom: .36rem</font></div><div><font style="font-size: 12pt;">         color: #fff</font></div><div><font style="font-size: 12pt;">         .banner-title</font></div><div><font style="font-size: 12pt;">            font-size: .36rem</font></div><div><font style="font-size: 12pt;">        .banner-icon</font></div><div><font style="font-size: 12pt;">            position: absolute</font></div><div><font style="font-size: 12pt;">            bottom: .5rem</font></div><div><font style="font-size: 12pt;">            width: 1.2rem</font></div><div><font style="font-size: 12pt;">            font-size: .24rem</font></div><div><font style="font-size: 12pt;">            line-height: .4rem  </font></div><div><font style="font-size: 12pt;">            text-align: center</font></div><div><font style="font-size: 12pt;">            border-radius: .2rem           </font></div><div><font style="font-size: 12pt;">            background: rgba(0, 0 ,0, .5)</font></div><div><font style="font-size: 12pt;">            .iconfont</font></div><div><font style="font-size: 12pt;">                font-size: .2rem</font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3.gif" type="image/gif" data-filename="3.gif"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">提交代码到远程仓库</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">git add .</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git commit -m 'banner finish'</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git push</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git checkout master</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git merge 'banner-detail'</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git push</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">实现header渐隐渐现效果</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">新建分支为 detail-header</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">git pull</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git checkout detail-header</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">npm run dev</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">在pages目录下的detail文件夹下的components文件夹新建 Header.vue</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3 [4].jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Header.vue</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;header-abs&quot;&gt;&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;header-fixed&quot;&gt;&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;   </font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;"><b>export default {</b></font></div><div><font style="font-size: 12pt;"><b>    name: 'DetailHeader'</b></font></div><div><font style="font-size: 12pt;"><b>}</b></font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">     </font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">在</span><span style="font-size: 12pt;">pages目录下的detail文件夹下的Deatail.vue中引入</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Deatail.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;detail-banner&gt;&lt;/detail-banner&gt;</font></div><div><font style="font-size: 12pt;">        <b>&lt;detail-header&gt;&lt;/detail-header&gt;</b></font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">import DetailBanner from './components/Banner.vue'</font></div><div><font style="font-size: 12pt;">import DetailHeader from './components/Header.vue'</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'Detail',</font></div><div><font style="font-size: 12pt;">    components: {</font></div><div><font style="font-size: 12pt;">        DetailBanner: DetailBanner,</font></div><div><font style="font-size: 12pt;">        <b>DetailHeader: DetailHeader</b></font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;"><b>    .content</b></font></div><div><font style="font-size: 12pt;"><b><font>        height: 50rem /* </font>要让页面足够长才能够滚动 <font>*/</font></b></font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Header.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;</font></div><div><font style="font-size: 12pt;">       <b> &lt;router-link tag=&quot;div&quot; to=&quot;/&quot; class=&quot;header-abs&quot; v-show=&quot;showAbs&quot;&gt;</b></font></div><div><font style="font-size: 12pt;">             &lt;span class=&quot;iconfont header-abs-back&quot;&gt;&amp;#xe624;&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">        <b>&lt;/router-link&gt;</b></font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;header-fixed&quot; <b>v-show=&quot;!showAbs&quot; :style=&quot;opacityStyle&quot;</b>&gt;</font></div><div><font style="font-size: 12pt;">            &lt;router-link to=&quot;/&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;iconfont header-back&quot;&gt;&amp;#xe624;&lt;/div&gt;  </font></div><div><font style="font-size: 12pt;">            &lt;/router-link&gt;</font></div><div><font style="font-size: 12pt;">            &lt;h1 class=&quot;header-title&quot;&gt;南沙湿地公园&lt;/h1&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;   </font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'DetailHeader',</font></div><div><font style="font-size: 12pt;">    data () {</font></div><div><font style="font-size: 12pt;">        return {</font></div><div><font style="font-size: 12pt;">            <b>showAbs: true,</b></font></div><div><font style="font-size: 12pt;"><b>            opacityStyle: {</b></font></div><div><font style="font-size: 12pt;"><b>                opacity: 0</b></font></div><div><font style="font-size: 12pt;"><b>            }</b></font></div><div><font style="font-size: 12pt;">        }       </font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    methods: {</font></div><div><font style="font-size: 12pt;">        <b>handleScroll () {</b></font></div><div><font style="font-size: 12pt;"><b><font>            const top = document.documentElement.scrollTop || w</font>indow.pageYOffset || document.body.scrollTop</b></font></div><div><font style="font-size: 12pt;"><b>            if (top &gt; 40) {</b></font></div><div><font style="font-size: 12pt;"><b>                let opacity = top / 206</b></font></div><div><font style="font-size: 12pt;"><b>                opacity = opacity &gt; 1 ? 1 : opacity</b></font></div><div><font style="font-size: 12pt;"><b>                this.opacityStyle = { opacity: opacity }</b></font></div><div><font style="font-size: 12pt;"><b>                this.showAbs = false</b></font></div><div><font style="font-size: 12pt;"><b>            }</b></font></div><div><font style="font-size: 12pt;"><b>            else {</b></font></div><div><font style="font-size: 12pt;"><b>                this.showAbs = true</b></font></div><div><font style="font-size: 12pt;"><b>            }</b></font></div><div><font style="font-size: 12pt;"><b>        } </b> </font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    <b>created () {</b></font></div><div><font style="font-size: 12pt;"><b>        window.addEventListener('scroll', this.handleScroll)</b></font></div><div><font style="font-size: 12pt;"><b>    }</b></font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">@import '~styles/variables.styl'</font></div><div><font style="font-size: 12pt;">     .header-abs</font></div><div><font style="font-size: 12pt;">         <b>position: absolute</b></font></div><div><font style="font-size: 12pt;">         top: .1rem</font></div><div><font style="font-size: 12pt;">         left: .1rem</font></div><div><font style="font-size: 12pt;">         <b>width: .72rem</b></font></div><div><font style="font-size: 12pt;"><b>         height: .72rem</b></font></div><div><font style="font-size: 12pt;"><b>         line-height: .72rem</b></font></div><div><font style="font-size: 12pt;"><b>         text-align: center</b>  </font></div><div><font style="font-size: 12pt;">        <b> border-radius: .36rem</b></font></div><div><font style="font-size: 12pt;"><b>         background: rgba(0, 0, 0, .5)</b></font></div><div><font style="font-size: 12pt;">         .header-abs-back</font></div><div><font style="font-size: 12pt;">             color: #fff</font></div><div><font style="font-size: 12pt;">    .header-fixed</font></div><div><font style="font-size: 12pt;">        position: fixed</font></div><div><font style="font-size: 12pt;">        top: 0</font></div><div><font style="font-size: 12pt;">        left: 0</font></div><div><font style="font-size: 12pt;">        right: 0</font></div><div><font style="font-size: 12pt;">        z-index: 90</font></div><div><font style="font-size: 12pt;">        height: .88rem</font></div><div><font style="font-size: 12pt;">        background: $bgColor</font></div><div><font style="font-size: 12pt;">        color: #fff</font></div><div><font style="font-size: 12pt;">        .header-back</font></div><div><font style="font-size: 12pt;">            position: absolute</font></div><div><font style="font-size: 12pt;">            left: 0</font></div><div><font style="font-size: 12pt;">            top: 0</font></div><div><font style="font-size: 12pt;">            width: .8rem</font></div><div><font style="font-size: 12pt;">            font-size: .36rem</font></div><div><font style="font-size: 12pt;">            text-align: center</font></div><div><font style="font-size: 12pt;">            line-height: .88rem</font></div><div><font style="font-size: 12pt;">            color: #fff            </font></div><div><font style="font-size: 12pt;">        .header-title</font></div><div><font style="font-size: 12pt;">            margin: 0 1rem</font></div><div><font style="font-size: 12pt;">            font-size: .32rem</font></div><div><font style="font-size: 12pt;">            line-height: .88rem</font></div><div><font style="font-size: 12pt;">            text-align: center     </font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">详情页的Header.vue的header样式借鉴的是城市页面的header样式</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3 [1].gif" type="image/gif" data-filename="3.gif"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">再次提交代码</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">git add .</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git commit -m 'header animation'</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git push</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git checkout master</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git merge detail-header</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git push</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">对全局事件的解绑</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">很多初学者没有对</span><span style="font-size: 12pt;">全局事件进行解绑，会</span><span style="font-size: 12pt;">影响其他组件，</span><span style="font-size: 12pt;">造成大量bug</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">keep-alive提供了另一个deactived生命钩子函数，当页面替换成另一个页面时触发，实现全局事件的解绑</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">created () {</font></div><div><font style="font-size: 12pt;">    window.addEventListener('scroll', this.handleScroll)</font></div><div><font style="font-size: 12pt;">},</font></div><div><font style="font-size: 12pt;">deactivated () {</font></div><div><font style="font-size: 12pt;">    window.removeEventListener('scroll', this.handleScroll)</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">直接修改提交到master分支并让之前的分支合并</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">git add .</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git commit -m 'fixed problem'</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git push</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git checkout detail-header</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git merge master</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git push</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">使用递归组件实现详情页列表</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">新建分支为 detail-list</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">在pages目录下的detail文件夹下的components文件夹新建 List.vue</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3 [5].jpg" type="image/jpeg" data-filename="3.jpg"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">发现个问题：</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">.border-bottom::before</font></div><div><font style="font-size: 12pt;">    border-bottom: 1px solid #e0e0e0  </font></div></div><div><br/></div><div><span style="font-size: 12pt;">必须放在样式最下面才有效</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">List.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">   &lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;ticket-group&quot; <b>v-for=&quot;(item, index) of list&quot; :key=&quot;index&quot;</b>&gt;</font></div><div><font style="font-size: 12pt;">            &lt;h3 class=&quot;ticket-type border-bottom&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;span class=&quot;ticket-icon&quot;&gt;&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">                {{item.title}}</font></div><div><font style="font-size: 12pt;">            &lt;/h3&gt;</font></div><div><font style="font-size: 12pt;">            &lt;h3 <b>v-if=&quot;item.children&quot;</b>&gt;</font></div><div><font style="font-size: 12pt;">                <b>&lt;detail-list :list=&quot;item.children&quot;&gt;&lt;/detail-list&gt;</b></font></div><div><font style="font-size: 12pt;">            &lt;/h3&gt;</font></div><div><font style="font-size: 12pt;">            &lt;div class=&quot;ticker-list&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;ticket-type-info border-bottom&quot;&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;h5 class=&quot;ticket-type-name&quot;&gt;南沙湿地公园成人票&lt;/h5&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;div class=&quot;ticket-type-price&quot;&gt;</font></div><div><font style="font-size: 12pt;">                        ¥&lt;em class=&quot;price-num&quot;&gt;38&lt;/em&gt;</font></div><div><font style="font-size: 12pt;">                        &lt;span class=&quot;price-numword&quot;&gt;起&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;div class=&quot;ticket-type-extend iconfont&quot;&gt;&amp;#xe62d;&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">            &lt;/div&gt;   </font></div><div><font style="font-size: 12pt;">            &lt;div class=&quot;ticker-list&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;ticket-type-info border-bottom&quot;&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;h5 class=&quot;ticket-type-name&quot;&gt;南沙湿地公园成人票&lt;/h5&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;div class=&quot;ticket-type-price&quot;&gt;</font></div><div><font style="font-size: 12pt;">                        ¥&lt;em class=&quot;price-num&quot;&gt;38&lt;/em&gt;</font></div><div><font style="font-size: 12pt;">                        &lt;span class=&quot;price-numword&quot;&gt;起&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;div class=&quot;ticket-type-extend iconfont&quot;&gt;&amp;#xe62d;&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">            &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">   &lt;/div&gt;      </font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'DetailList',</font></div><div><font style="font-size: 12pt;">    <b>props: {</b></font></div><div><font style="font-size: 12pt;"><b>        list: Array</b></font></div><div><font style="font-size: 12pt;"><b>    }</b></font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">    .ticket-group</font></div><div><font style="font-size: 12pt;">        position: relative</font></div><div><font style="font-size: 12pt;">        margin-bottom: .2rem</font></div><div><font style="font-size: 12pt;">        .ticket-type</font></div><div><font style="font-size: 12pt;">            overflow: hidden</font></div><div><font style="font-size: 12pt;">            height: .88rem</font></div><div><font style="font-size: 12pt;">            position: relative</font></div><div><font style="font-size: 12pt;">            margin-bottom: -.02rem</font></div><div><font style="font-size: 12pt;">            font-size: .32rem</font></div><div><font style="font-size: 12pt;">            line-height: .88rem</font></div><div><font style="font-size: 12pt;">            padding: 0 .2rem</font></div><div><font style="font-size: 12pt;">            background: #fff</font></div><div><font style="font-size: 12pt;">            color: #333</font></div><div><font style="font-size: 12pt;">            text-indent: .4rem</font></div><div><font style="font-size: 12pt;">            .ticket-icon</font></div><div><font style="font-size: 12pt;">               display: inline-block</font></div><div><font style="font-size: 12pt;">               position: absolute</font></div><div><font style="font-size: 12pt;">               width: .36rem</font></div><div><font style="font-size: 12pt;">               height: .36rem</font></div><div><font style="font-size: 12pt;">               top: .26rem</font></div><div><font style="font-size: 12pt;">               left: .2rem</font></div><div><font style="font-size: 12pt;">               background: url('http://s.qunarzz.com/piao/image/touch/sight/detail.png') 0 -.45rem no-repeat</font></div><div><font style="font-size: 12pt;">               margin-right: .1rem</font></div><div><font style="font-size: 12pt;">               background-size: .4rem 3rem</font></div><div><font style="font-size: 12pt;">        .ticket-list</font></div><div><font style="font-size: 12pt;">              overflow: hidden  </font></div><div><font style="font-size: 12pt;">            .ticket-type-info</font></div><div><font style="font-size: 12pt;">                position: relative</font></div><div><font style="font-size: 12pt;">                margin-bottom: -.02rem</font></div><div><font style="font-size: 12pt;">                padding: .24rem .2rem</font></div><div><font style="font-size: 12pt;">                background:#fff</font></div><div><font style="font-size: 12pt;">            .ticket-type-price, .ticket-type-extend  </font></div><div><font style="font-size: 12pt;">                 overflow: hidden</font></div><div><font style="font-size: 12pt;">                 position: absolute</font></div><div><font style="font-size: 12pt;">                 top: 50%</font></div><div><font style="font-size: 12pt;">                 height: .4rem</font></div><div><font style="font-size: 12pt;">                 line-height: .4rem   </font></div><div><font style="font-size: 12pt;">            .ticket-type-price       </font></div><div><font style="font-size: 12pt;">                 right: .46rem</font></div><div><font style="font-size: 12pt;">                 font-size: .24rem                 </font></div><div><font style="font-size: 12pt;">                 margin-top: -.28rem</font></div><div><font style="font-size: 12pt;">                 color: #ff9800  </font></div><div><font style="font-size: 12pt;">                 .price-num</font></div><div><font style="font-size: 12pt;">                     margin-left: .04rem</font></div><div><font style="font-size: 12pt;">                     font-size: .4rem  </font></div><div><font style="font-size: 12pt;">                 .price-numword</font></div><div><font style="font-size: 12pt;">                     display: inline-block</font></div><div><font style="font-size: 12pt;">                     color: #9e9e9e</font></div><div><font style="font-size: 12pt;">                     font-size: .24rem</font></div><div><font style="font-size: 12pt;">            .ticket-type-extend</font></div><div><font style="font-size: 12pt;">                right: .2rem</font></div><div><font style="font-size: 12pt;">                margin-top: -.22rem</font></div><div><font style="font-size: 12pt;">                color: #bbb</font></div><div><font style="font-size: 12pt;">                font-size: .24rem                   </font></div><div><font style="font-size: 12pt;">        .border-bottom::before</font></div><div><font style="font-size: 12pt;">            border-bottom: 1px solid #e0e0e0     </font></div><div><font style="font-size: 12pt;">            left: .2rem       </font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Detail.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div class=&quot;page&quot;&gt;</font></div><div><font style="font-size: 12pt;">        &lt;detail-banner&gt;&lt;/detail-banner&gt;</font></div><div><font style="font-size: 12pt;">        &lt;detail-header&gt;&lt;/detail-header&gt;</font></div><div><font style="font-size: 12pt;">        <b>&lt;detail-list :list=&quot;list&quot;&gt;&lt;/detail-list&gt;</b></font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">import DetailBanner from './components/Banner.vue'</font></div><div><font style="font-size: 12pt;">import DetailHeader from './components/Header.vue'</font></div><div><font style="font-size: 12pt;">import DetailList from './components/List.vue'</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'Detail',</font></div><div><font style="font-size: 12pt;">    components: {</font></div><div><font style="font-size: 12pt;">        DetailBanner: DetailBanner,</font></div><div><font style="font-size: 12pt;">        DetailHeader: DetailHeader,</font></div><div><font style="font-size: 12pt;">        DetailList: DetailList</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    data () {</font></div><div><font style="font-size: 12pt;">        return {</font></div><div><font style="font-size: 12pt;">           <b> list: [{</b></font></div><div><font style="font-size: 12pt;"><b>                title: '单票',</b></font></div><div><font style="font-size: 12pt;"><b>                children: [{</b></font></div><div><font style="font-size: 12pt;"><b>                    title: '成人三馆联票',</b></font></div><div><font style="font-size: 12pt;"><b>                    children: [{</b></font></div><div><font style="font-size: 12pt;"><b>                        title: '成人三馆联票 某某连锁店销售'</b></font></div><div><font style="font-size: 12pt;"><b>                    }]</b></font></div><div><font style="font-size: 12pt;"><b>                }, {</b></font></div><div><font style="font-size: 12pt;"><b>                    title: '成人五馆联票'</b></font></div><div><font style="font-size: 12pt;"><b>                }]</b></font></div><div><font style="font-size: 12pt;"><b>            }, {</b></font></div><div><font style="font-size: 12pt;"><b>                title: '套票'</b></font></div><div><font style="font-size: 12pt;"><b>            }, {</b></font></div><div><font style="font-size: 12pt;"><b>                title: '热销联票'</b></font></div><div><font style="font-size: 12pt;"><b>            }, {</b></font></div><div><font style="font-size: 12pt;"><b>                title: '电子导游'</b></font></div><div><font style="font-size: 12pt;"><b>            }]</b></font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">    .page</font></div><div><font style="font-size: 12pt;">        position: absolute</font></div><div><font style="font-size: 12pt;">        top: 0</font></div><div><font style="font-size: 12pt;">        left: 0</font></div><div><font style="font-size: 12pt;">        width: 100%</font></div><div><font style="font-size: 12pt;">        min-height: 100%</font></div><div><font style="font-size: 12pt;">        background: #f5f5f5</font></div><div><font style="font-size: 12pt;">        .content</font></div><div><font style="font-size: 12pt;">            height: 10rem</font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3 [2].gif" type="image/gif" data-filename="3.gif"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">再次提交代码</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">git add .</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git commit -m 'partially completed'</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git push</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git checkout master</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git merge detail-list</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git push</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">使用Ajax获取动态数据</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">新建分支为 detail-ajax</span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">git pull</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">git checkout detail-ajax</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">npm run start</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">detail.json</span></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">{</font></div><div><font style="font-size: 12pt;">    &quot;ret&quot;: true,</font></div><div><font style="font-size: 12pt;">    &quot;data&quot;: {</font></div><div><font style="font-size: 12pt;">        &quot;sightName&quot;: &quot;大连圣亚海洋世界(AAAA景区)&quot;,</font></div><div><font style="font-size: 12pt;">        &quot;bannerImg&quot;: &quot;http://img1.qunarzz.com/sight/p0/201404/23/04b92c99462687fa1ba45c1b5ba4ad77.jpg_600x330_bf9c4904.jpg&quot;,</font></div><div><font style="font-size: 12pt;">        &quot;gallaryImgs&quot;: [</font></div><div><font style="font-size: 12pt;">            &quot;http://img1.qunarzz.com/sight/p0/201404/23/04b92c99462687fa1ba45c1b5ba4ad77.jpg_800x800_70debc93.jpg&quot;,</font></div><div><font style="font-size: 12pt;">            &quot;http://img1.qunarzz.com/sight/p0/1709/76/7691528bc7d7ad3ca3.img.png_800x800_9ef05ee7.png&quot;</font></div><div><font style="font-size: 12pt;">        ],</font></div><div><font style="font-size: 12pt;">        &quot;categoryList&quot;: [</font></div><div><font style="font-size: 12pt;">            {</font></div><div><font style="font-size: 12pt;">                &quot;title&quot;: &quot;成人票&quot;,</font></div><div><font style="font-size: 12pt;">                &quot;children&quot;: [</font></div><div><font style="font-size: 12pt;">                    {</font></div><div><font style="font-size: 12pt;">                        &quot;title&quot;: &quot;成人三馆联票&quot;,</font></div><div><font style="font-size: 12pt;">                        &quot;children&quot;: [</font></div><div><font style="font-size: 12pt;">                            {</font></div><div><font style="font-size: 12pt;">                                &quot;title&quot;: &quot;成人三馆联票 - 某一连锁店销售&quot;</font></div><div><font style="font-size: 12pt;">                            }</font></div><div><font style="font-size: 12pt;">                        ]</font></div><div><font style="font-size: 12pt;">                    },</font></div><div><font style="font-size: 12pt;">                    {</font></div><div><font style="font-size: 12pt;">                        &quot;title&quot;: &quot;成人五馆联票&quot;</font></div><div><font style="font-size: 12pt;">                    }</font></div><div><font style="font-size: 12pt;">                ]</font></div><div><font style="font-size: 12pt;">            },</font></div><div><font style="font-size: 12pt;">            {</font></div><div><font style="font-size: 12pt;">                &quot;title&quot;: &quot;学生票&quot;</font></div><div><font style="font-size: 12pt;">            },</font></div><div><font style="font-size: 12pt;">            {</font></div><div><font style="font-size: 12pt;">                &quot;title&quot;: &quot;儿童票&quot;</font></div><div><font style="font-size: 12pt;">            },</font></div><div><font style="font-size: 12pt;">            {</font></div><div><font style="font-size: 12pt;">                &quot;title&quot;: &quot;特惠票&quot;</font></div><div><font style="font-size: 12pt;">            }</font></div><div><font style="font-size: 12pt;">        ]</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">借助生命周期钩子发ajax请求</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">当访问ID是001的页面时，应该把ID发给后端，再请求</span><span style="font-size: 12pt; font-weight: bold;">ID对应的</span><span style="font-size: 12pt; font-weight: bold;">JSON数据，如何获得路由的参数呢？</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Detail.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div class=&quot;page&quot;&gt;</font></div><div><font style="font-size: 12pt;">        &lt;detail-banner</font></div><div><font style="font-size: 12pt;">        <b>:sightName=&quot;sightName&quot;</b></font></div><div><font style="font-size: 12pt;"><b>        :bannerImg=&quot;bannerImg&quot;</b></font></div><div><font style="font-size: 12pt;"><b>        :gallaryImgs=&quot;gallaryImgs&quot;</b>&gt;&lt;/detail-banner&gt;</font></div><div><font style="font-size: 12pt;">        &lt;detail-header&gt;&lt;/detail-header&gt;</font></div><div><font style="font-size: 12pt;">        &lt;detail-list <b>:list=&quot;list&quot;</b>&gt;&lt;/detail-list&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">import DetailBanner from './components/Banner.vue'</font></div><div><font style="font-size: 12pt;">import DetailHeader from './components/Header.vue'</font></div><div><font style="font-size: 12pt;">import DetailList from './components/List.vue'</font></div><div><font style="font-size: 12pt;">import axios from 'axios'</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'Detail',</font></div><div><font style="font-size: 12pt;">    components: {</font></div><div><font style="font-size: 12pt;">        DetailBanner: DetailBanner,</font></div><div><font style="font-size: 12pt;">        DetailHeader: DetailHeader,</font></div><div><font style="font-size: 12pt;">        DetailList: DetailList</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    data () {</font></div><div><font style="font-size: 12pt;">        return {</font></div><div><font style="font-size: 12pt;">           <b> sightName: '',</b></font></div><div><font style="font-size: 12pt;"><b>            bannerImg: '',</b></font></div><div><font style="font-size: 12pt;"><b>            gallaryImgs: [],</b></font></div><div><font style="font-size: 12pt;"><b>            list: []</b></font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    methods: {</font></div><div><font style="font-size: 12pt;">       <b> getDetailInfo () {</b></font></div><div><font style="font-size: 12pt;"><b>            axios.get('/api/detail.json', {</b></font></div><div><font style="font-size: 12pt;"><b>                params: {</b></font></div><div><font style="font-size: 12pt;"><b>                    id: this.$route.path.id</b></font></div><div><font style="font-size: 12pt;"><b>                }</b></font></div><div><font style="font-size: 12pt;"><b>            }).then(this.handleGetDataSucc);</b></font></div><div><font style="font-size: 12pt;"><b>        },     </b>      </font></div><div><font style="font-size: 12pt;">        <b>handleGetDataSucc (res) {</b></font></div><div><font style="font-size: 12pt;"><b>            res = res.data</b></font></div><div><font style="font-size: 12pt;"><b>            if (res.ret &amp;&amp; res.data) {</b></font></div><div><font style="font-size: 12pt;"><b>                const data = res.data</b></font></div><div><font style="font-size: 12pt;"><b>                this.sightName = data.sightName</b></font></div><div><font style="font-size: 12pt;"><b>                this.bannerImg = data.bannerImg</b></font></div><div><font style="font-size: 12pt;"><b>                this.gallaryImgs = data.gallaryImgs</b></font></div><div><font style="font-size: 12pt;"><b>                this.list = data.categoryList</b></font></div><div><font style="font-size: 12pt;"><b>            }</b></font></div><div><font style="font-size: 12pt;"><b>        }    </b>       </font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    <b>mounted () {</b></font></div><div><font style="font-size: 12pt;"><b>        this.getDetailInfo()</b></font></div><div><font style="font-size: 12pt;"><b>    }</b></font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">    .page</font></div><div><font style="font-size: 12pt;">        position: absolute</font></div><div><font style="font-size: 12pt;">        top: 0</font></div><div><font style="font-size: 12pt;">        left: 0</font></div><div><font style="font-size: 12pt;">        width: 100%</font></div><div><font style="font-size: 12pt;">        min-height: 100%</font></div><div><font style="font-size: 12pt;">        background: #f5f5f5</font></div><div><font style="font-size: 12pt;">        .content</font></div><div><font style="font-size: 12pt;">            height: 10rem</font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Banner.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;banner&quot; @click=&quot;handleClick&quot;&gt;</font></div><div><font style="font-size: 12pt;">            &lt;img class=&quot;banner-img&quot; :src=&quot;bannerImg&quot;/&gt;</font></div><div><font style="font-size: 12pt;">            &lt;div class=&quot;banner-info&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;banner-title&quot;&gt;{{this.sightName}}&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;banner-icon&quot;&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;span class=&quot;iconfont&quot;&gt;&amp;#xe647;&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;em class=&quot;icon-number&quot;&gt;{{this.gallaryImgs.length}}&lt;/em&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/div&gt;            </font></div><div><font style="font-size: 12pt;">            &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;common-gallary</font></div><div><font style="font-size: 12pt;">        :imgs=&quot;gallaryImgs&quot;</font></div><div><font style="font-size: 12pt;">        v-show=&quot;showGallary&quot;</font></div><div><font style="font-size: 12pt;">        @close=&quot;handleGallaryClose&quot;&gt;&lt;/common-gallary&gt;</font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;   </font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">import CommonGallary from 'common/gallary/Gallary.vue'</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'DetailBanner',</font></div><div><font style="font-size: 12pt;">    props: {</font></div><div><font style="font-size: 12pt;">        <b>sightName: String,</b></font></div><div><font style="font-size: 12pt;"><b>        bannerImg: String,</b></font></div><div><font style="font-size: 12pt;"><b>        gallaryImgs: Array</b></font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    data () {</font></div><div><font style="font-size: 12pt;">        return {</font></div><div><font style="font-size: 12pt;">            showGallary: false</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    methods: {</font></div><div><font style="font-size: 12pt;">        handleClick () {</font></div><div><font style="font-size: 12pt;">             this.showGallary = true</font></div><div><font style="font-size: 12pt;">        },</font></div><div><font style="font-size: 12pt;">        handleGallaryClose () {</font></div><div><font style="font-size: 12pt;">            this.showGallary = false</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    components: {</font></div><div><font style="font-size: 12pt;">        CommonGallary</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">     .banner</font></div><div><font style="font-size: 12pt;">         position: relative</font></div><div><font style="font-size: 12pt;">         overflow: hidden</font></div><div><font style="font-size: 12pt;">         width: 100%</font></div><div><font style="font-size: 12pt;">         height: 0</font></div><div><font style="font-size: 12pt;">         padding-bottom: 55%</font></div><div><font style="font-size: 12pt;">     .banner-img</font></div><div><font style="font-size: 12pt;">         width: 100%</font></div><div><font style="font-size: 12pt;">     .banner-info</font></div><div><font style="font-size: 12pt;">         position: absolute</font></div><div><font style="font-size: 12pt;">         left: .2rem</font></div><div><font style="font-size: 12pt;">         bottom: .36rem</font></div><div><font style="font-size: 12pt;">         color: #fff</font></div><div><font style="font-size: 12pt;">         .banner-title</font></div><div><font style="font-size: 12pt;">            position: relative</font></div><div><font style="font-size: 12pt;">            z-index: 1</font></div><div><font style="font-size: 12pt;">            line-height: .4rem</font></div><div><font style="font-size: 12pt;">            color: #fff</font></div><div><font style="font-size: 12pt;">            font-size: .36rem</font></div><div><font style="font-size: 12pt;">            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.70)</font></div><div><font style="font-size: 12pt;">        .banner-icon</font></div><div><font style="font-size: 12pt;">            position: absolute</font></div><div><font style="font-size: 12pt;">            bottom: .5rem</font></div><div><font style="font-size: 12pt;">            width: 1.2rem</font></div><div><font style="font-size: 12pt;">            font-size: .24rem</font></div><div><font style="font-size: 12pt;">            line-height: .4rem  </font></div><div><font style="font-size: 12pt;">            text-align: center</font></div><div><font style="font-size: 12pt;">            border-radius: .2rem           </font></div><div><font style="font-size: 12pt;">            background: rgba(0, 0 ,0, .5)</font></div><div><font style="font-size: 12pt;">            .iconfont</font></div><div><font style="font-size: 12pt;">                font-size: .2rem</font></div><div><font style="font-size: 12pt;">        .banner::after</font></div><div><font style="font-size: 12pt;">            content: &quot;\0020&quot;</font></div><div><font style="font-size: 12pt;">            display: block</font></div><div><font style="font-size: 12pt;">            position: absolute</font></div><div><font style="font-size: 12pt;">            bottom: 0</font></div><div><font style="font-size: 12pt;">            left: 0</font></div><div><font style="font-size: 12pt;">            width: 100%</font></div><div><font style="font-size: 12pt;">            min-height: .6rem</font></div><div><font style="font-size: 12pt;">            background-color: transparent</font></div><div><font style="font-size: 12pt;">            background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, .8))        </font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">keep-alive对页面进行了缓存，要使Detail.vue不被缓存，每次进入Detail详情页都会执行一次mounted()发一次ajax请求</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">APP.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><b>&lt;keep-alive exclude=&quot;Detail&quot;&gt;</b></font></div><div><font style="font-size: 12pt;"><b>      &lt;router-view/&gt;   </b></font></div><div><font style="font-size: 12pt;"><b>&lt;/keep-alive&gt;</b></font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">router文件夹下的index.js（每次点击进入页面都是在页面顶部）</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">export default new Router({</font></div><div><font style="font-size: 12pt;">  routes: [{</font></div><div><font style="font-size: 12pt;">      path: '/',</font></div><div><font style="font-size: 12pt;">      name: 'Home',</font></div><div><font style="font-size: 12pt;">      component: Home</font></div><div><font style="font-size: 12pt;">  }, {</font></div><div><font style="font-size: 12pt;">      path: '/city',</font></div><div><font style="font-size: 12pt;">      name: 'City',</font></div><div><font style="font-size: 12pt;">      component: City</font></div><div><font style="font-size: 12pt;">  }, {</font></div><div><font style="font-size: 12pt;">      path: '/detail/:id',</font></div><div><font style="font-size: 12pt;">      name: 'Detail',</font></div><div><font style="font-size: 12pt;">      component: Detail</font></div><div><font style="font-size: 12pt;">  }],</font></div><div><font style="font-size: 12pt;"><b>  scrollBehavior(to, from, savedPosition) {</b></font></div><div><font style="font-size: 12pt;"><b>      return { x: 0, y: 0 }</b></font></div><div><font style="font-size: 12pt;"><b>  }</b></font></div><div><font style="font-size: 12pt;">})</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><hr/><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">在项目中加入基础动画</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">新建分支 detail-animation分支</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">在common文件夹下新fadeAnimation文件夹并创建FadeAnimation.vue</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">FadeAnimation.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    <b>&lt;transition&gt;</b></font></div><div><font style="font-size: 12pt;"><b>        &lt;slot&gt;&lt;/slot&gt;</b></font></div><div><font style="font-size: 12pt;"><b>    &lt;/transition&gt;</b></font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'Fade',</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">   <b> .v-enter, .v-leave-to</b></font></div><div><font style="font-size: 12pt;"><b>        opacity: 0</b></font></div><div><font style="font-size: 12pt;"><b>    .v-enter-active, .v-leave-active</b></font></div><div><font style="font-size: 12pt;"><b>        transition: opacity  .5s  </b>  </font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Banner.vue</span></span></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">&lt;template&gt;</font></div><div><font style="font-size: 12pt;">    &lt;div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;div class=&quot;banner&quot; @click=&quot;handleClick&quot;&gt;</font></div><div><font style="font-size: 12pt;">            &lt;img class=&quot;banner-img&quot; :src=&quot;bannerImg&quot;/&gt;</font></div><div><font style="font-size: 12pt;">            &lt;div class=&quot;banner-info&quot;&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;banner-title&quot;&gt;{{this.sightName}}&lt;/div&gt;</font></div><div><font style="font-size: 12pt;">                &lt;div class=&quot;banner-icon&quot;&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;span class=&quot;iconfont&quot;&gt;&amp;#xe647;&lt;/span&gt;</font></div><div><font style="font-size: 12pt;">                    &lt;em class=&quot;icon-number&quot;&gt;{{this.gallaryImgs.length}}&lt;/em&gt;</font></div><div><font style="font-size: 12pt;">                &lt;/div&gt;            </font></div><div><font style="font-size: 12pt;">            &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        &lt;/div&gt;</font></div><div><font style="font-size: 12pt;">        <b>&lt;fade-animation&gt;</b></font></div><div><font style="font-size: 12pt;">            &lt;common-gallary</font></div><div><font style="font-size: 12pt;">            :imgs=&quot;gallaryImgs&quot;</font></div><div><font style="font-size: 12pt;">            v-show=&quot;showGallary&quot;</font></div><div><font style="font-size: 12pt;">            @close=&quot;handleGallaryClose&quot;&gt;</font></div><div><font style="font-size: 12pt;">            &lt;/common-gallary&gt;</font></div><div><font style="font-size: 12pt;">       <b> &lt;/fade-animation&gt; </b>       </font></div><div><font style="font-size: 12pt;">    &lt;/div&gt;   </font></div><div><font style="font-size: 12pt;">&lt;/template&gt;</font></div><div><font style="font-size: 12pt;">&lt;script&gt;</font></div><div><font style="font-size: 12pt;">import CommonGallary from 'common/gallary/Gallary.vue'</font></div><div><font style="font-size: 12pt;"><b>import FadeAnimation from 'common/fadeAnimation/FadeAnimation.vue'</b></font></div><div><font style="font-size: 12pt;">export default {</font></div><div><font style="font-size: 12pt;">    name: 'DetailBanner',</font></div><div><font style="font-size: 12pt;">    props: {</font></div><div><font style="font-size: 12pt;">        sightName: String,</font></div><div><font style="font-size: 12pt;">        bannerImg: String,</font></div><div><font style="font-size: 12pt;">        gallaryImgs: Array</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    data () {</font></div><div><font style="font-size: 12pt;">        return {</font></div><div><font style="font-size: 12pt;">            showGallary: false</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    methods: {</font></div><div><font style="font-size: 12pt;">        handleClick () {</font></div><div><font style="font-size: 12pt;">             this.showGallary = true</font></div><div><font style="font-size: 12pt;">        },</font></div><div><font style="font-size: 12pt;">        handleGallaryClose () {</font></div><div><font style="font-size: 12pt;">            this.showGallary = false</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">    },</font></div><div><font style="font-size: 12pt;">    components: {</font></div><div><font style="font-size: 12pt;">        CommonGallary,</font></div><div><font style="font-size: 12pt;">        FadeAnimation</font></div><div><font style="font-size: 12pt;">    }</font></div><div><font style="font-size: 12pt;">}</font></div><div><font style="font-size: 12pt;">&lt;/script&gt;</font></div><div><font style="font-size: 12pt;">&lt;style lang=&quot;stylus&quot; scoped&gt;</font></div><div><font style="font-size: 12pt;">     .banner</font></div><div><font style="font-size: 12pt;">         position: relative</font></div><div><font style="font-size: 12pt;">         overflow: hidden</font></div><div><font style="font-size: 12pt;">         width: 100%</font></div><div><font style="font-size: 12pt;">         height: 0</font></div><div><font style="font-size: 12pt;">         padding-bottom: 55%</font></div><div><font style="font-size: 12pt;">     .banner-img</font></div><div><font style="font-size: 12pt;">         width: 100%</font></div><div><font style="font-size: 12pt;">     .banner-info</font></div><div><font style="font-size: 12pt;">         position: absolute</font></div><div><font style="font-size: 12pt;">         left: .2rem</font></div><div><font style="font-size: 12pt;">         bottom: .36rem</font></div><div><font style="font-size: 12pt;">         color: #fff</font></div><div><font style="font-size: 12pt;">         .banner-title</font></div><div><font style="font-size: 12pt;">            position: relative</font></div><div><font style="font-size: 12pt;">            z-index: 1</font></div><div><font style="font-size: 12pt;">            line-height: .4rem</font></div><div><font style="font-size: 12pt;">            color: #fff</font></div><div><font style="font-size: 12pt;">            font-size: .36rem</font></div><div><font style="font-size: 12pt;">            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.70)</font></div><div><font style="font-size: 12pt;">        .banner-icon</font></div><div><font style="font-size: 12pt;">            position: absolute</font></div><div><font style="font-size: 12pt;">            bottom: .5rem</font></div><div><font style="font-size: 12pt;">            width: 1.2rem</font></div><div><font style="font-size: 12pt;">            font-size: .24rem</font></div><div><font style="font-size: 12pt;">            line-height: .4rem  </font></div><div><font style="font-size: 12pt;">            text-align: center</font></div><div><font style="font-size: 12pt;">            border-radius: .2rem           </font></div><div><font style="font-size: 12pt;">            background: rgba(0, 0 ,0, .5)</font></div><div><font style="font-size: 12pt;">            .iconfont</font></div><div><font style="font-size: 12pt;">                font-size: .2rem</font></div><div><font style="font-size: 12pt;">        .banner::after</font></div><div><font style="font-size: 12pt;">            content: &quot;\0020&quot;</font></div><div><font style="font-size: 12pt;">            display: block</font></div><div><font style="font-size: 12pt;">            position: absolute</font></div><div><font style="font-size: 12pt;">            bottom: 0</font></div><div><font style="font-size: 12pt;">            left: 0</font></div><div><font style="font-size: 12pt;">            width: 100%</font></div><div><font style="font-size: 12pt;">            min-height: .6rem</font></div><div><font style="font-size: 12pt;">            background-color: transparent</font></div><div><font style="font-size: 12pt;">            background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, .8))        </font></div><div><font style="font-size: 12pt;">&lt;/style&gt;</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><img src="8- 详情页开发_files/3 [3].gif" type="image/gif" data-filename="3.gif"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div></div><div><br/></div></span>
</div></body></html> 