<html>
<head>
  <title>Jest前端自动化测试框架</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/606060 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="6165"/>
<h1>Jest前端自动化测试框架</h1>

<div><span>
  <div style="--en-clipped-content:article; --en-clipped-source-url:https://www.shirmy.me/article/13; --en-clipped-source-title:Jest前端自动化测试框架;">
<div><br/></div><div style="min-height: 15893px; font-size: 16px; display: block; min-width: 100%; position: relative;"> <div style="font:inherit;vertical-align:baseline;line-height:1.15;text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased;font-size:16px;overflow:hidden auto;"><div style="font:inherit;vertical-align:baseline;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased;font-family:&quot;Noto Sans&quot;, sans-serif;font-size:16px;font-weight:400;overflow-wrap:break-word;word-break:break-word;background-color:rgb(255, 255, 255);transition:all 0.1s linear 0s;line-height:1.5;color:rgb(22, 27, 61);overflow:hidden;"><div style="font:inherit;vertical-align:baseline;"><div style="font:inherit;vertical-align:baseline;"><div style="font:inherit;vertical-align:baseline;justify-content:space-between;"><span><div style="font:inherit;vertical-align:baseline;"><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;position:relative;justify-content:center;align-items:center;width:calc(100% - 170px);height:calc(100vh - 245px);color:rgb(255, 255, 255);border-radius:5px;background:50% center / cover no-repeat;box-sizing:border-box;overflow:hidden;margin:0px auto;display:flex;background-image:url(https://resource.shirmy.me/blog/covers/2019-08-26/jest-cover.png);"><span style="font:inherit;color:rgb(255, 255, 255);position:absolute;inset:0px;display:block;width:100%;height:100%;opacity:0.35;background-color:rgb(57, 66, 69);background-image:linear-gradient(234deg, rgb(57, 66, 69), rgb(0, 0, 0));"></span><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;width:100%;max-width:1200px;z-index:1;box-sizing:border-box;position:relative;margin:0px auto;"><div style="margin:0px;border:0px;font:inherit;vertical-align:baseline;margin-top:-10vh;padding:60px 200px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;font-weight:700;"> <ul style="padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style:none;display:flex;justify-content:flex-start;flex-wrap:wrap;width:100%;margin:0px -5px;"><li style="border:0px;font:inherit;vertical-align:baseline;display:inline-block;color:rgb(22, 27, 61);font-size:11px;font-weight:700;letter-spacing:1.5px;border-radius:20px;background:rgb(244, 244, 244) none repeat scroll 0% 0% / auto padding-box border-box;cursor:pointer;margin:5px;padding:5px 12px;">Jest</li><li style="border:0px;font:inherit;vertical-align:baseline;display:inline-block;color:rgb(22, 27, 61);font-size:11px;font-weight:700;letter-spacing:1.5px;border-radius:20px;background:rgb(244, 244, 244) none repeat scroll 0% 0% / auto padding-box border-box;cursor:pointer;margin:5px;padding:5px 12px;margin-right:0px;">JavaScript</li></ul></div> <h1 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;line-height:1;margin:0.7em 0px;font-size:46px;font-weight:700;">Jest前端自动化测试框架</h1> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:13px;">
          by 
          <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:18px;font-weight:700;cursor:pointer;">shirmy</span>
           <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"> 2019-08-26 10:51:00</span></div></div></div></div> <div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;width:100%;max-width:1200px;z-index:1;box-sizing:border-box;position:relative;border-radius:5px 5px 0px 0px;margin:-10vh auto 0px;"><div style="margin:0px;border:0px;font:inherit;vertical-align:baseline;border-radius:5px 5px 0px 0px;background-color:rgb(255, 255, 255);transition:all 0.1s linear 0s;padding:60px 200px 5px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;font-size:15px;"><h1 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:40px;line-height:1;margin:1em 0px;">Jest</h1>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">Jest 是由 Facebook 推出的一个前端测试框架，具有许多非常好的特性，譬如执行速度快、API友好、自动监控、Snapshot、测试覆盖率、Mock等各种特性，并且适用于Babel、TypeScript、Node、React、Angular、Vue等。</p>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">安装</h2>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">npm install jest -D

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);"># 或者</span>
yarn add --dev jest</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">进入项目，然后运行一下命令初始化<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest</code>配置</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">npx jest --init</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">接下会询问你构建的测试环境 node 环境 或 浏览器 环境，是否需要生成代码覆盖率报告，是否需要帮你做一些自动清除的事情，如下图：</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">
    </p><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;flex-direction:column;width:100%;margin:1.5em 0px;display:flex;">
      <div style="margin:0px;border:0px;font:inherit;vertical-align:baseline;box-sizing:border-box;display:flex;justify-content:center;align-items:center;position:relative;width:100%;cursor:zoom-in;padding:0px 1em;">
        <img src="Jest前端自动化测试框架_files/jest-init.png-thumbnail" type="image/png" data-filename="jest-init.png-thumbnail" height="178" style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;border-style:none;max-width:100%;border-radius:4px;transition:all 0.25s linear 0s;filter:blur(8px);opacity:0;" title="jest init" width="770"/>
        <img src="Jest前端自动化测试框架_files/jest-init.png-progressive" type="image/png" data-filename="jest-init.png-progressive" height="171" style="visibility:undefined;display:undefined;opacity:undefined;margin:0px;border:0px;font:inherit;vertical-align:baseline;border-style:none;max-width:100%;border-radius:4px;transition:all 0.25s linear 0s;box-sizing:border-box;position:absolute;top:0px;padding:0px 1em;" title="jest init" width="770"/>
      </div>
      <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-top:1em;text-align:center;">
        <span style="border:0px;font:inherit;vertical-align:baseline;display:inline-block;border-bottom:0.995798px solid rgb(220, 223, 231);margin:0px auto;padding:0.1em 0.3em;">jest init</span>
      </div>
    </div>
  <p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;"></p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">此外，要使用 ES6 的<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">import</code>和<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">export</code>我们还需要另外配置Babel</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">npm install @babel/core @babel/preset-env -D

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);"># 或</span>
yarn add --dev babel-jest @babel/core @babel/preset-env</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">然后在项目根目录下新建 .babelrc 文件，配置需要哪些插件对代码做一些转换</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// .babelrc</span>
{
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">&quot;presets&quot;</span>: [
    [
      <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">&quot;@babel/preset-env&quot;</span>, {
        <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">&quot;targets&quot;</span>: {
          <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">&quot;node&quot;</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">&quot;current&quot;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 根据当前 node 环境</span>
        }
      }
    ]
  ]
}</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">这时，我们在根目录下新建 demo.js 和 demo.test.js 文件来测试是否配置成功：</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> add = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">a, b</span>) =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> a + b
}

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> { add } <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./demo'</span>

test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 add 函数'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 期望 add(1, 2) 结果为 3</span>
  expect(add(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2</span>)).toBe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">3</span>)
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">这时运行<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">npm run test</code>或直接运行<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest</code>，这时控制台就会显示测试情况：</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">
    </p><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;flex-direction:column;width:100%;margin:1.5em 0px;display:flex;">
      <div style="margin:0px;border:0px;font:inherit;vertical-align:baseline;box-sizing:border-box;display:flex;justify-content:center;align-items:center;position:relative;width:100%;cursor:zoom-in;padding:0px 1em;">
        <img src="Jest前端自动化测试框架_files/demo-test-result.png-thumbnail" type="image/png" data-filename="demo-test-result.png-thumbnail" height="333" style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;border-style:none;max-width:100%;border-radius:4px;transition:all 0.25s linear 0s;filter:blur(8px);opacity:0;" title="demo-test-result" width="770"/>
        <img src="Jest前端自动化测试框架_files/demo-test-result.png-progressive" type="image/png" data-filename="demo-test-result.png-progressive" height="320" style="visibility:undefined;display:undefined;opacity:undefined;margin:0px;border:0px;font:inherit;vertical-align:baseline;border-style:none;max-width:100%;border-radius:4px;transition:all 0.25s linear 0s;box-sizing:border-box;position:absolute;top:0px;padding:0px 1em;" title="demo-test-result" width="770"/>
      </div>
      <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-top:1em;text-align:center;">
        <span style="border:0px;font:inherit;vertical-align:baseline;display:inline-block;border-bottom:0.995798px solid rgb(220, 223, 231);margin:0px auto;padding:0.1em 0.3em;">demo-test-result</span>
      </div>
    </div>
  <p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;"></p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">至此，我们就成功配置 jest 的基础环境了</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">此外，如果使用 vscode，我们可以在插件搜 jest 安装相关插件辅助</p>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">单元测试 和 集成测试</h3>
<ul style="padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style:none;padding-left:2em;margin:1em 0px;">
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;">单元测试，只对某个功能点进行测试</li>
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;">集成测试，对单元以及单元里面包含的其它东西统一的测试，包括其它的依赖</li>
</ul>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">Jest 常用匹配器</h2>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">jest 提供了各种各样的匹配器来帮助我们判断测试结果是否为期望的结果</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">为了方便测试，我们可以使用 jest 的检测功能，当代码发生变动时就会重新进行测试</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest --watchAll</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">当我们使用<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest --watchAll</code>之后，jest 提供了多种命令行工具，在 watchAll 模式下按<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">w</code></p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">
    </p><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;flex-direction:column;width:100%;margin:1.5em 0px;display:flex;">
      <div style="margin:0px;border:0px;font:inherit;vertical-align:baseline;box-sizing:border-box;display:flex;justify-content:center;align-items:center;position:relative;width:100%;cursor:zoom-in;padding:0px 1em;">
        <img src="Jest前端自动化测试框架_files/jest-terminal-utils.png-thumbnail" type="image/png" data-filename="jest-terminal-utils.png-thumbnail" height="465" style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;border-style:none;max-width:100%;border-radius:4px;transition:all 0.25s linear 0s;filter:blur(8px);opacity:0;" title="jest-terminal-utils" width="770"/>
        <img src="Jest前端自动化测试框架_files/jest-terminal-utils.png-progressive" type="image/png" data-filename="jest-terminal-utils.png-progressive" height="447" style="visibility:undefined;display:undefined;opacity:undefined;margin:0px;border:0px;font:inherit;vertical-align:baseline;border-style:none;max-width:100%;border-radius:4px;transition:all 0.25s linear 0s;box-sizing:border-box;position:absolute;top:0px;padding:0px 1em;" title="jest-terminal-utils" width="770"/>
      </div>
      <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-top:1em;text-align:center;">
        <span style="border:0px;font:inherit;vertical-align:baseline;display:inline-block;border-bottom:0.995798px solid rgb(220, 223, 231);margin:0px auto;padding:0.1em 0.3em;">jest-terminal-utils</span>
      </div>
    </div>
  <p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;"></p>
<ul style="padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style:none;padding-left:2em;margin:1em 0px;">
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">f</code>只测试失败的用例</li>
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">o</code>只测试有代码变更的用例<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bolder;">需要配合git使用</strong>，这样 jest 才能检测到变更</li>
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">p</code>匹配测试文件名</li>
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">t</code>匹配测试名</li>
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">q</code>退出代码监控</li>
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">a</code>测试所有用例</li>
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest --watchAll</code>进入<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">a</code>模式</li>
<li style="margin:0px;border:0px;font:inherit;vertical-align:baseline;list-style:disc;padding:0.3em;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest --watch</code>进入<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">o</code>模式</li>
</ul>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// toBe() 类似于 object.is === 这种匹配</span>
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span> + <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>).toBe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2</span>)

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> obj = { <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">a</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span> }
expect(obj).toBe(obj)

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// toEqual() 用于判断值是否相等</span>
expect([<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2</span>]).toEqual([<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2</span>])
expect(obj).toEqual({ <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">a</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>})

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// toBeNull() 判断是否为 null 只匹配 null</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> n = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">null</span>
expect(n).toBeNull()
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">undefined</span>).toBeNull()  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 测试不通过</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// toBeUndefined() 只匹配 undefined</span>
expect().toBeUndefined()

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// toBeDefined() 是 toBeUndefined() 的反面</span>
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">null</span>).toBeDefined()  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 通过</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// toBeTruthy() 判断是否为 true</span>
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">true</span>).toBeTruthy()

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// expect().toBeFalsy() 判断是否为 false</span>
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">false</span>).toBeFalsy()

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// .not 取反</span>
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">true</span>).not.toBeFalsy()

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// Number 类型的判断</span>
expect().toBeGreaterThan()  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 大于</span>
expect().toBeLessThan() <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 小于</span>
expect().toBeGreaterThanOrEqual() <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 大于等于</span>
expect().toBeLessThanOrEqual()  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 小于等于</span>
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0.1</span> + <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0.2</span>).toBeCloseTo(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0.3</span>)  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 这是为了解决 0.1 + 0.2 的情况</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// String 类型</span>
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'hello world'</span>).toMatch(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 153, 38);">/hello/</span>)  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 可以使用正则</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// iterables 类型 Array Set</span>
expect([<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2</span>]).toContain(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>)

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 异常</span>
expect(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> { <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">throw</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">new</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">Error</span>(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'error'</span>) }).toThrow()</code></pre>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">测试异步代码</h2>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">如果需要测试异步代码，需要告知 jest 该测试用例何时才完成，否则 jest 会忽略掉异步代码的测试</p>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">回调函数</h3>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 假如有一个 API 请求</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 需要传入 done 函数</span>
test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 fetchData'</span>, (done) =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 假如 fetchData 用于获取远程数据</span>
  fetchData(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">data</span>) =&gt;</span> {
    expect(data).toEqual({ <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">errorCode</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">data</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">123</span> })
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 只有当 done() 执行了，测试才算完成</span>
    done()
  })
})</code></pre>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">Promises</h3>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 fetchData'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 假如 fetchData 返回的是一个 Promise 直接 return 就可以了</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> fetchData().then(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">res</span>) =&gt;</span> {
    expect(res).toEqual({ <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">errorCode</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">data</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">123</span> })
  })
})

test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'fetchData 返回 404'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 使用断言，确保 expect 必须执行一次</span>
  expect.assertions(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>)
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> fetchData().catch(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">e</span>) =&gt;</span> {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 捕获的异常中包含 404</span>
    expect(e.toString().includes(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'404'</span>)).toBeTruthy()
  })
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">resolve 和 reject</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// resolve</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> expect(fetchData()).resolves.toBe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'success'</span>)

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// reject</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> expect(fetchData()).rejects.toMatch(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'error'</span>)</code></pre>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">async / await 语法</h3>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 fetchData'</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">async</span> () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> res = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">await</span> fetchData()
  expect(res).toEqual({ <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">errorCode</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">data</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">123</span> })
})

test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'fetchData 返回 404'</span>, () =&gt; {
  expect.assertions(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>)
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">try</span> {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">await</span> fetchData()
  } <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">catch</span> (e) {
    expect(e.toString().includes(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'404'</span>)).toBeTruthy()
  }
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">resolve 和 reject</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// resolve</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">await</span> expect(fetchData()).resolves.toBe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'success'</span>)

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// reject</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">await</span> expect(fetchData()).rejects.toThrow(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'error'</span>)</code></pre>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">钩子函数</h2>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">beforeAll(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 在所有测试用例开始前需要做的工作</span>
})

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">let</span> counter
beforeEach(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 保证每次执行都创建新的 Counter 实例</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 避免不同测试用例之间产生影响 导致测试结果出现偏差</span>
  counter = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">new</span> Counter()
})

afterEach(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 每个测试用例执行之后</span>
})

afterAll(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 在所有测试用例结束之后</span>
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">jest 可以通过<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">describe</code>给代码生成作用域</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">describe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 Counter'</span>, () =&gt; {
  describe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'add 方法'</span>, () =&gt; {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// ...</span>
  })

  describe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'minium 方法'</span>, () =&gt; {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// ...</span>
  })
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">如果存在 describe，执行顺序（<a href="https://jestjs.io/docs/en/setup-teardown" style="padding:0px;border:0px;font:inherit;vertical-align:baseline;background-color:transparent;-webkit-user-drag:none;user-select:none;text-decoration:none;margin:0px 0.3em;color:rgb(117, 191, 215);">官方文档</a>）如下：</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">beforeAll(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'1 - beforeAll'</span>))
afterAll(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'1 - afterAll'</span>))
beforeEach(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'1 - beforeEach'</span>))
afterEach(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'1 - afterEach'</span>))
test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">''</span>, () =&gt; <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'1 - test'</span>))
describe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'Scoped / Nested block'</span>, () =&gt; {
  beforeAll(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'2 - beforeAll'</span>))
  afterAll(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'2 - afterAll'</span>))
  beforeEach(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'2 - beforeEach'</span>))
  afterEach(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'2 - afterEach'</span>))
  test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">''</span>, () =&gt; <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'2 - test'</span>))
})

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 先执行外层的 beforeEach 再执行内层的 beforeEach</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 1 - beforeAll</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 1 - beforeEach</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 1 - test</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 1 - afterEach</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 2 - beforeAll</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 1 - beforeEach</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 2 - beforeEach</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 2 - test</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 2 - afterEach</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 1 - afterEach</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 2 - afterAll</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 1 - afterAll</span></code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">使用<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">test.only()</code>方法可以只测试这一个用例</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">test.only(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'only run'</span>, () =&gt; {})</code></pre>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">mock 方法</h2>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">当我们传入回调函数时，我们需要测试回调函数是否被调用，并且测试之，这时我们就可以通过<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest.fn()</code>来创建一个 mock 函数</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js 假如有一个函数</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> runCallback = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">callback</span>) =&gt;</span> {
  callback(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'params'</span>)
}

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 callback'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 创建一个 mock 函数</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// jest.nf() 可以捕获测试函数的调用和返回结果，以及 this 和 调用顺序</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> func = jest.fn()

  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 设置 mock 函数的返回结果</span>
  func.mockReturnValueOnce(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'data'</span>)
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 也可以链式调用</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// func.mockReturnValueOnce('one').mockReturnValueOnce('two')</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 传入 mock 函数，如果这个 mock 函数被执行了，说明 runCallback() 方法没问题</span>
  runCallback(func)
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 期望 mock 函数被调用 1 次</span>
  expect(func.mock.calls.length).toBe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>)
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 期望 callback 回调函数第一个参数传入 'params'</span>
  expect(func.mock.calls[<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0</span>]).toEqual([<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'params'</span>])
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 可以打印 func.mock 查看内部的变量</span>

  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 也可以用 toBeCalled() 确保回调被调用了一次</span>
  expect(func).toBeCalled()
})</code></pre>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">mock Class</h3>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// export const createClass = (classItem) =&gt; {</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">//   new classItem()</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// }</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 createClass'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> func = jest.fn()
  createObject(func)
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// func.mock.instance 指的是这个 func 的 this 指向</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 指向 func 指向的 constructor</span>
})</code></pre>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">mock axios</h3>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> fetchData = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> axios.get(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'/api'</span>).then(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">res</span> =&gt;</span> res.data)
}

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> axios <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'axios'</span>;
jest.mock(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'axios'</span>)  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 让 jest 对 axios 做一个模拟</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 前端只要确认请求已经发送就可以了，返回的数据的正确性应该由服务端保证</span>
test.only(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 fetchData'</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">async</span> () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 改变函数的内部实现，让它同步的模拟数据</span>
  axios.get.mockResolvedValueOnce({ <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">data</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'hello world'</span> })
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">await</span> getData().then(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">data</span>) =&gt;</span> {
    expect(data).toBe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'hello world'</span>)
  })
})</code></pre>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">手动 Mocks</h3>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;"><a href="https://jestjs.io/docs/en/manual-mocks" style="padding:0px;border:0px;font:inherit;vertical-align:baseline;background-color:transparent;-webkit-user-drag:none;user-select:none;text-decoration:none;margin:0px 0.3em;color:rgb(117, 191, 215);">文档 Manual Mocks</a></p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">我们可以通过创建一个<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">__mocks__</code>文件夹，里面写<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">mock</code>来替换真正的代码</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">比如我们有一个<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">fetchData()</code>方法获取数据</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> axios <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'axios'</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> fetchData = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> axios.get(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'/api'</span>).then(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">res</span> =&gt;</span> {
    res.data
  })
}</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">接下来我们要在根目录下创建一个<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">__mocks__</code>文件夹，并创建<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">demo.js</code>文件来编写模拟代码</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// __mocks__/demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> fetchData = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">new</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">Promise</span>(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">resolve</span> =&gt;</span> {
    resolve(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'success'</span>)
  })
}</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">然后编写测试用例</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 模拟 demo</span>
jest.mock(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./demo'</span>)

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 下面这个方法可以取消模拟，然后就会调用根目录下真正的 demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// jest.unmock('./demo')</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> { fetchData } <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./demo'</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 此时的 fetchData 会取 __mocks__ 下的 fetchData 方法</span>
test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'fetchData 测试'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> fetchData().then(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">data</span> =&gt;</span> {
    expect(data).toEqual(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'success'</span>)
  })
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest.config.js</code>配置中的<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">automock</code>可以设置是否需要自动引入<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">mock</code>，默认为自动引入</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">如果测试文件下存在多个测试，使用了 mock，但是有部分测试用例需要取到真实的函数，而不是 mock 文件中的函数，那么可以使用以下方式：</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 从真实的代码中取得方法</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> { add } = jest.requireActual(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./demo'</span>)</code></pre>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">Timer Mocks</h3>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">如果我们需要 mock <code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">setTimeout</code>,<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">setInterval</code>等方法，可以使用<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">jest.useFakeTimers()</code>方法，它可以帮助我们快进一段时间，而不必每次测试都需要等待</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">default</span> (callback) =&gt; {
  setTimeout(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
    callback()
    setTimeout(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
      callback()
    }, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2000</span>)
  }, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2000</span>)
}

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
jest.useFakeTimers()

test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'timer'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 使用 mock 函数</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> fn = jest.fn()
  timer(fn)
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 通过判断回调函数执行的次数进行判断</span>
  jest.advanceTimersByTime(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2000</span>)  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 快进 2 秒</span>
  expect(fn).toHaveBeenCalledTimes(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>) <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 函数被执行 1 次</span>
  jest.advanceTimersByTime(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2000</span>)  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 再快进 2 秒</span>
  expect(fn).toHaveBeenCalledTimes(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2</span>) <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 函数被执行 2 次</span>
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">如果测试中包含多个 timer 应当使用 beforeEach 钩子函数</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">beforeEach(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  jest.useFakeTimers()
})</code></pre>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">snapshot 快照测试</h2>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">快照测试可以帮助我们判断代码是否发生了变更，常用在<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bolder;">DOM结构</strong>和<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bolder;">配置文件</strong></p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">假设有配置文件：</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> generateConfig = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">server</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'localhost'</span>,
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">port</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">8080</span>,
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">date</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">new</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">Date</span>()
  }
}</code></pre>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 generateConfig 函数'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 第一次执行测试的时候会生成 __snapshots__ 文件夹保存代码</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 第二次会和之前的做匹配，如果不匹配则不通过</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 如果更改了配置 并确定要这样改 按 w 再按 u 更新快照</span>
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 按 w 再按 i 可以逐个更新多个测试实例的快照 再按 u 逐个确定</span>
  expect(generateConfig()).toMatchSnapshot({
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">server</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">&quot;localhost&quot;</span>,
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">port</span>: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">8080</span>,
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 因为 year 每次都会产生变化，因此可以使用以下这种方式</span>
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 只要一直是 Date 类型就可以，也可以是 String Number 等</span>
    date: expect.any(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">Date</span>)
  })
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">如果是不想生成<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">__snapshots__</code>文件夹，可以使用<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">Prettier</code>来使用内联快照</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 内联快照</span>
expect(generateAnotherConfig()).toMatchInlineSnapshot(
  {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">time</span>: expect.any(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">Date</span>)
  },
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">`
    Object {
      &quot;server&quot;: &quot;localhost&quot;,
      &quot;port&quot;: 8080,
      &quot;time&quot;: Any&lt;Date&gt;,
    }
  `</span>
);</code></pre>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">测试 ES6 的类</h2>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// Utils.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">default</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">class</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(68, 85, 136);font-weight:700;">Util</span> </span>{
  add (a, b) {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> a + b
  }
}

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 在所有测试开始前对实例化这个类</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">let</span> util
beforeAll(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  util = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">new</span> Util
})

test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 Util 中的 add 方法'</span>, () =&gt; {
  expect(util.add(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>, <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">2</span>)).toBe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">3</span>)
})</code></pre>
<h3 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:26px;line-height:1;margin:1em 0px;">mock</h3>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// Utils.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">default</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">class</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(68, 85, 136);font-weight:700;">Util</span> </span>{
  add (a, b) {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> a + b
  }
  minium (a, b) {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">return</span> a - b
  }
}

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> Util <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./Util'</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">default</span> (a, b) =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> util = <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">new</span> Util()
  util.add(a, b)
  util.minium(a, b)
}

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 如果发现 Util 是一个类 会自动把类的构造函数和方法变成 jest.fn()</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 这样就达到模拟的方式，而不是真正地需要执行类中复杂的方法</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 模拟过后就可以判断 类 和 方法 是否被调用了</span>
jest.mock(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./Util'</span>)
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> Util <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./Util'</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> utilFunction <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./demo'</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 在单元测试中 我们更应该关注函数是否被调用 而不是函数中的复杂方法</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 因此使用 mock 方法来进行测试</span>
test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'测试 utilFunction'</span>, () =&gt; {
  utilFunction()
  expect(Util).toHaveBeenCalled() <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// Util 有被实例化</span>
  expect(Util.mock.instances[<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0</span>].add).toHaveBeenCalled() <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// add 方法有被执行</span>
  expect(Util.mock.instances[<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">0</span>].minium).toHaeBeenCalled() <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// minium 方法有被执行</span>
})</code></pre>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">我还可以像之前说的一样，使用新建<code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;">__mocks__</code>文件夹的方式重新实现一遍方法</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// __mocks__/Util.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> Util = jest.fn(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'constructor'</span>)
})
Util.prototype.add = jest.fn(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'add'</span>)
})
Util.prototype.minium = jest.fn(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'minium'</span>)
})

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// 当然也可以不新建文件夹</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
jest.mock(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./Util'</span>, () =&gt; {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">const</span> Util = jest.fn(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'constructor'</span>)
  })
  Util.prototype.add = jest.fn(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'add'</span>)
  })
  Util.prototype.minium = jest.fn(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;">()</span> =&gt;</span> {
    <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(0, 134, 179);">console</span>.log(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'minium'</span>)
  })
})</code></pre>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">测试 DOM</h2>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">测试 DOM 要记得把测试环境设为浏览器环境，jest 在底层模拟了一套 dom api</p>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// jest.config.js</span>
{
  <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// testEnvironment: &quot;node&quot;,</span>
  testEnvironment: <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">&quot;jest-environment-jsdom&quot;</span>,
}</code></pre>
<pre style="border:0px;font:inherit;vertical-align:baseline;font-family:monospace, monospace;border-radius:5px;overflow-x:auto;margin:0.5em 0px;padding:1em;font-size:85%;background-color:rgb(247, 247, 247);"><code style="border:0px;font:inherit;vertical-align:baseline;font-size:1em;background-color:rgb(247, 247, 247);margin:0px 0.2em;padding:0.1em 0.2em;font-family:&quot;Roboto Mono&quot;, Monaco, courier, monospace;"><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> $ <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'jquery'</span>

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">export</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">default</span> () =&gt; {
  $(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'body'</span>).append(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'&lt;div&gt;&lt;/div&gt;'</span>)
}

<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;color:rgb(153, 153, 136);">// demo.test.js</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> appendDiv <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'./demo'</span>
<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">import</span> $ <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;color:rgb(51, 51, 51);">from</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'jquery'</span>

test(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'在 body 中添加 1 个 div'</span>, () =&gt; {
  addDivToBody()
  expect($(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'body'</span>).find(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:rgb(221, 17, 68);">'div'</span>).length).toBe(<span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;color:teal;">1</span>)
})</code></pre>
<h2 style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:700;font-size:30px;line-height:1;margin:1em 0px;">小结</h2>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">Jest 常用的方法大概就是上述这些，我们需要明确集成测试和单元测试两个不同的概念</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">单元测试只能保证当个功能，如果我们测试一个项目，无法确保各个功能之间的依赖没有问题</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">集成测试，可以让我们站在业务流程的角度来进行测试，以确保这个流程是没有问题的</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;">单元测试特别适用于单个函数的测试，因为就只有入参和返回值</p>
<blockquote style="margin:0px;border:0px;font:inherit;vertical-align:baseline;quotes:none;border-left:3.7437px solid rgb(220, 223, 231);padding:0px 1em;"><span style="font:inherit;quotes:none;"></span>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;text-indent:0px;margin-top:0px;"> jest 官方文档</p>
<p style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:1em 0px;text-indent:0px;margin-bottom:0px;"><a href="https://jestjs.io/" style="padding:0px;border:0px;font:inherit;vertical-align:baseline;background-color:transparent;-webkit-user-drag:none;user-select:none;text-decoration:none;margin:0px 0.3em;color:rgb(117, 191, 215);">Jest</a></p>
<span style="font:inherit;quotes:none;"></span></blockquote>
</div></div> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:space-between;align-items:center;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;font-size:16px;"><i style="padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:normal;-webkit-font-smoothing:antialiased;margin:8px 10px 0px 0px;font-size:22.4px;font-family:iconfont;"><span style="font:inherit;font-size:22.4px;font-style:normal;font-family:iconfont;"></span></i> <ul style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style:none;display:flex;justify-content:flex-start;flex-wrap:wrap;margin-top:10px;"><li style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">Jest</li><li style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;"><span style="font:inherit;cursor:pointer;">、</span>JavaScript</li></ul></div> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:center;align-items:center;width:30px;height:30px;margin-top:5px;font-size:16px;cursor:pointer;"><i style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:normal;-webkit-font-smoothing:antialiased;margin-right:6px;font-size:22.4px;font-family:iconfont;"><span style="font:inherit;font-size:22.4px;font-style:normal;font-family:iconfont;"></span></i> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;white-space:nowrap;">11</span></div></div> <div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;align-items:center;margin:20px 0px;"><i style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:normal;-webkit-font-smoothing:antialiased;font-size:22.4px;font-family:iconfont;"><span style="font:inherit;font-size:22.4px;font-style:normal;font-family:iconfont;"></span></i> <span style="margin:0px;border:0px;font:inherit;vertical-align:baseline;font-size:13px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:0px 10px 0px 5px;">相关推荐</span> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;flex:1 1 0%;height:1px;background-color:rgb(220, 223, 231);"></div></div> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><ul style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style:none;"><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2020-04-08</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">开源 — Lin-cms-koa</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-11-08</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">自己写一个Webpack插件</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-10-25</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">Vue双向绑定原理及实现</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-10-17</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">Koa2框架原理及实现</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-09-08</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">如何优雅地操作DOM</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-08-27</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">使用Jest对Vue进行自动化测试</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-07-24</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">使用Nginx配置HTTPS和反向代理</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-07-23</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">全栈开发—Travis CI持续集成</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-07-22</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">全栈开发—博客服务端(Koa2)</span></li><li style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;align-items:center;font-size:16px;margin:6px 0px;"><span style="font:inherit;font-size:16px;position:absolute;top:9px;left:-18px;width:6px;height:6px;border-radius:50%;background-color:var(--font-color-primary);"></span><span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-right:20px;font-size:16px;">2019-07-22</span> <span style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;cursor:pointer;">全栈开发—博客后台管理系统</span></li></ul></div></div></div> <div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;width:100%;max-width:1200px;z-index:1;box-sizing:border-box;position:relative;margin:-10vh auto 0px;margin-top:0px;border-radius:0px 0px 5px 5px;"><div style="margin:0px;border:0px;font:inherit;vertical-align:baseline;border-radius:5px 5px 0px 0px;background-color:rgb(255, 255, 255);transition:all 0.1s linear 0s;padding:60px 200px 5px;padding-top:5px;"><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;align-items:center;margin:20px 0px;"><i style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:normal;-webkit-font-smoothing:antialiased;font-size:22.4px;font-family:iconfont;"><span style="font:inherit;font-size:22.4px;font-style:normal;font-family:iconfont;"></span></i> <span style="margin:0px;border:0px;font:inherit;vertical-align:baseline;font-size:13px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:0px 10px 0px 5px;">评论</span> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;flex:1 1 0%;height:1px;background-color:rgb(220, 223, 231);"></div></div> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-top:0px;border-radius:0px 0px 5px 5px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:space-between;align-items:flex-start;"><img src="Jest前端自动化测试框架_files/8d326fe.png" type="image/png" data-filename="8d326fe.png" height="36" style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;border-style:none;max-width:100%;display:inline-block;width:36px;height:36px;border-radius:50%;background-color:rgb(238, 238, 238);" width="36"/> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;width:calc(100% - 50px);"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;position:relative;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;transition:all 0.3s ease-in-out 0s;"><div style="margin:0px;font:inherit;vertical-align:baseline;box-sizing:border-box;width:100%;min-height:6em;max-height:30em;font-size:16px;color:rgb(102, 102, 102);border-radius:4px;outline:none;overflow-y:auto;transition:all 0.1s linear 0s;font-family:&quot;Microsoft Yahei&quot;;padding:10px;border:0.995798px solid rgb(220, 223, 231);"><span style="font:inherit;font-size:16px;color:rgb(102, 102, 102);font-family:Microsoft Yahei;">评论...</span></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;justify-content:space-between;align-items:center;display:flex;transition:all 0.3s ease-in-out 0s;"><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;justify-content:flex-start;transition:all 0.1s linear 0s;margin:5px 0px;"><a style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;background-color:transparent;color:rgb(22, 27, 61);-webkit-user-drag:none;user-select:none;text-decoration:none;position:relative;margin-right:10px;display:flex;justify-content:center;align-items:center;width:30px;height:30px;cursor:pointer;transition:all 0.1s linear 0s;"><i style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;font-family:iconfont;"><span style="font:inherit;font-size:16px;font-style:normal;font-family:iconfont;"></span></i> </a> <a style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;background-color:transparent;color:rgb(22, 27, 61);-webkit-user-drag:none;user-select:none;text-decoration:none;position:relative;margin-right:10px;display:flex;justify-content:center;align-items:center;width:30px;height:30px;cursor:pointer;transition:all 0.1s linear 0s;"><i style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;font-family:iconfont;"><span style="font:inherit;font-size:16px;font-style:normal;font-family:iconfont;"></span></i></a> <a style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;background-color:transparent;color:rgb(22, 27, 61);-webkit-user-drag:none;user-select:none;text-decoration:none;position:relative;margin-right:10px;display:flex;justify-content:center;align-items:center;width:30px;height:30px;cursor:pointer;transition:all 0.1s linear 0s;"><i style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;font-family:iconfont;"><span style="font:inherit;font-size:16px;font-style:normal;font-family:iconfont;"></span></i></a> <a style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;background-color:transparent;color:rgb(22, 27, 61);-webkit-user-drag:none;user-select:none;text-decoration:none;position:relative;display:flex;justify-content:center;align-items:center;width:30px;height:30px;cursor:pointer;transition:all 0.1s linear 0s;margin-right:0px;"><i style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;font-family:iconfont;"><span style="font:inherit;font-size:16px;font-style:normal;font-family:iconfont;"></span></i></a></div> <a style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;background-color:transparent;color:rgb(22, 27, 61);-webkit-user-drag:none;user-select:none;text-decoration:none;display:flex;justify-content:center;align-items:center;width:30px;height:30px;cursor:pointer;transition:all 0.1s linear 0s;"><i style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;font-family:iconfont;"><span style="font:inherit;font-size:16px;font-style:normal;font-family:iconfont;"></span></i></a></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;transition:all 0.3s ease-in-out 0s;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;justify-content:space-between;align-items:center;font-size:16px;display:flex;">  </div></div></div></div></div> <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-top:25px;"><ul style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style:none;">  <div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:flex;flex-direction:column;align-items:center;width:100%;font-size:16px;font-weight:700;"><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:30px 0px;">还没有评论 /(ㄒoㄒ)/~~</div> </div></ul></div></div></div></div></div>  </div></span></div></div></div></div></div></div>
</div>
</span>
</div></body></html> 